"use strict";(self.webpackChunkreach=self.webpackChunkreach||[]).push([[4733],{83886:(e,s,a)=>{a.d(s,{O:()=>i});const t=a(15526).l.injectEndpoints({endpoints:e=>({uploadFile:e.mutation({query:e=>({url:"/member/addProfilePicture",method:"POST",headers:{},body:e,formData:!0})})})}),{useUploadFileMutation:i}=t},24733:(e,s,a)=>{a.r(s),a.d(s,{default:()=>pe});var t=a(65043),i=a(32769),l=a(39374),n=a(5701),r=a(20782),c=a(10591),o=a(97550),d=a(72679),m=a(7493),h=a(24858),u=a(49418),x=a(79061),p=a(35475),g=a(98595),j=a(57167),b=(a(62522),a(83886)),f=a(83910),v=a(97929),N=a(55683),y=a(70579);const _=e=>{let{image:s,onCropComplete:a,onCancel:i}=e;const[l,n]=(0,t.useState)({x:0,y:0}),[r,c]=(0,t.useState)(1),[o,d]=(0,t.useState)(null),m=(0,t.useCallback)(((e,s)=>{d(s)}),[]);return(0,y.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 z-50 cropcontrol-box",children:(0,y.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,y.jsx)("div",{className:"flex-grow relative test",children:(0,y.jsx)(N.Ay,{image:s,crop:l,zoom:r,aspect:1,onCropChange:e=>{n(e)},onZoomChange:e=>{c(e)},onCropComplete:m})}),(0,y.jsx)("div",{className:"p-2 bg-gray-100 ",children:(0,y.jsx)("div",{className:"mb-0",children:(0,y.jsx)("input",{id:"zoom",type:"range",value:r,min:1,max:3,step:.1,onChange:e=>c(Number(e.target.value)),className:"w-full"})})}),(0,y.jsxs)("div",{className:"flex justify-end space-x-2 p-2 btn-groups",children:[(0,y.jsx)("button",{onClick:i,className:"px-3  btn-cancel transition",children:"Cancel"}),(0,y.jsx)("button",{onClick:async()=>{try{if(!o)return;const e=document.createElement("canvas"),t=new Image;t.src=s,await new Promise((e=>{t.onload=()=>e()}));const i=t.naturalWidth/t.width,l=t.naturalHeight/t.height;e.width=o.width,e.height=o.height;const n=e.getContext("2d");if(!n)throw new Error("Could not get 2D rendering context");n.drawImage(t,o.x*i,o.y*l,o.width*i,o.height*l,0,0,o.width,o.height);const r=e.toDataURL("image/jpeg");a(r)}catch(e){console.error("Error creating cropped image:",e)}},className:"px-3 py-1 bg-blue-500 btn-crop mx-2 transition",children:"Crop & Save"})]})]})})},w=5242880,S=e=>{let{getFileName:s=(()=>{}),folderName:i,from:l}=e;const[n]=(0,b.O)(),[r,c]=(0,t.useState)(!1),[o,d]=(0,t.useState)([]),[m,h]=(0,t.useState)(null),[u,x]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[j,N]=(0,t.useState)(!1),[S,k]=(0,t.useState)(""),C=(0,t.useRef)(null),[A,D]=(0,t.useState)(!1),[T,M]=(0,t.useState)(null);function E(e){if("profile-images"===i||"employers"===i||"job-images"===i)if("image/png"===e.type||"image/jpg"===e.type||"image/jpeg"===e.type||"image/gif"===e.type){k("");const s=new FileReader;s.onload=()=>{M(s.result),D(!0)},s.readAsDataURL(e)}else k("Invalid file format. Recommended:JPG, PNG, or GIF")}function B(){const e=new FileReader,a=o[m];if(!a)return;const t=p*w,l=t+w,r=a.slice(t,l);e.onload=e=>function(e){var a;const t=o[m],l=(null===(a=e.target)||void 0===a?void 0:a.result)||null;if(null===l)return;let r;r="string"===typeof l?new Blob([l],{type:"text/plain"}):new Blob([new Uint8Array(l)]);N(!0);const c=new FormData;c.append("file",r,t.name),c.append("name",t.name),c.append("folderName",i),c.append("size",t.size.toString()),c.append("currentChunkIndex",p.toString()),c.append("totalChunks",Math.ceil(t.size/w).toString()),n(c).unwrap().then((e=>{const a=o[m].size,i=Math.ceil(a/w)-1;if(p===i){const a=e.finalFilename;t.finalFilename=a,x(m),g(null),s(e.finalFilename)}else g(p+1);N(!1)})).catch((e=>{N(!1),console.error("File upload failed:",e)}))}(e),e.readAsDataURL(r)}return(0,t.useEffect)((()=>{if(null===u)return;const e=u===o.length-1;h(e?null:m+1)}),[u,o]),(0,t.useEffect)((()=>{o.length>0&&null===m&&h(null===u?0:u+1)}),[o.length,u]),(0,t.useEffect)((()=>{null!==m&&g(0)}),[m]),(0,t.useEffect)((()=>{null!==p&&B()}),[p]),(0,y.jsx)(y.Fragment,{children:j?(0,y.jsx)("div",{className:"page-loader",children:(0,y.jsx)("div",{className:"page-innerLoader",children:(0,y.jsx)("div",{className:"spinner-border",role:"status",children:(0,y.jsx)("img",{src:a(27951),alt:"",className:"img-fluid"})})})}):(0,y.jsx)("div",{className:"container",children:A?A&&T&&(0,y.jsx)(_,{image:T,onCropComplete:async e=>{try{const s=await fetch(e),a=await s.blob(),t=new File([a],"cropped-image.jpg",{type:"image/jpeg"});d([...o,t]),D(!1),M(null),h(o.length),g(0)}catch(s){console.error("Error processing cropped image:",s),k("Error processing cropped image")}},onCancel:()=>{D(!1),M(null)}}):(0,y.jsxs)("div",{className:"file-uploads",children:[(0,y.jsxs)("div",{onDragOver:e=>{c(!0),e.preventDefault()},onDragLeave:e=>{c(!1),e.preventDefault()},onDrop:e=>function(e){e.preventDefault();const s=Array.from(e.dataTransfer.files);s.length>0&&E(s[0]),c(!1)}(e),onClick:function(){C.current&&C.current.click()},className:"dropzone"+(r?" active":""),children:[(0,y.jsx)("div",{className:"icon-logo",children:"chat"===i?(0,y.jsx)(f.g,{icon:v.QLR}):(0,y.jsx)("img",{src:a(90331),alt:""})}),"chat"===i?(0,y.jsx)("label",{className:"label-for",children:"Upload Image"}):"employers"===i?(0,y.jsxs)("label",{className:"label-for",children:["Upload ",(0,y.jsx)("span",{className:"files",children:"file PDF, Word Doc, Excel, JPG"})]}):(0,y.jsx)("label",{className:"label-for",children:"Drop your files here"})]}),(0,y.jsx)("input",{ref:C,type:"file",style:{display:"none"},onChange:e=>{const s=e.target.files;s&&s.length>0&&E(s[0])}}),"multiform"!==l&&(0,y.jsx)("div",{className:"files",children:o.map(((e,s)=>{let a=0;if(e.finalFilename)a=100;else{const t=s===m,i=Math.ceil(e.size/w);a=t?Math.round(p/i*100):0}return(0,y.jsxs)("div",{className:"file",children:[(0,y.jsx)("div",{className:"name",children:e.name}),(0,y.jsxs)("div",{className:"progress "+(100===a?"done":""),style:{width:a+"%"},children:[a,"%"]})]},s)}))}),S&&(0,y.jsx)("p",{className:"error",children:S})]})})})};var k=a(34279),C=a(48075),A=a(20740),D=a(30064),T=a.n(D);const M=e=>{let{profileData:s,toggle:i}=e;const[n,r]=(0,t.useState)(s),[c,o]=(0,t.useState)("");(0,t.useEffect)((()=>{s.members_phone_code&&r((e=>({...e,phone_code:s.members_phone_code})))}),[s]);const[d,m]=(0,t.useState)(null),b=(0,j.gL)("userData");let f="",v="";try{null!==b?(f=b.Token,v=b.Member_type):console.error("User data not found in local storage")}catch(X){console.error("Error parsing user data:",X)}const N=(0,h.mN)({defaultValues:n}),{register:_,control:w,handleSubmit:D,formState:M}=N,{errors:E}=M;let B="0000-00-00";s.members_dob&&(B=s.members_dob);const[R,F,P]=B.split("-").map((e=>{const s=parseInt(e,10);return s<10?s.toString():s})),[Y,{isLoading:H}]=(0,g.d2)(),[U,q]=(0,t.useState)(!1),[O]=(0,g.S9)(),L=async()=>{const e=await O(f);"error"in e?console.error("Error logging in:",e.error):(r(e.data.data),q(!1))},[I]=(0,g.b1)(),{showModal:G}=(0,C.Vv)(),$=()=>{L()},[z,W]=(0,t.useState)(n.members_country),[V,J]=(0,t.useState)("");return(0,y.jsx)("div",{className:"profile-form",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-6 col-12 img-box",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)(l.D,{tag:"h5",className:"profile-pic",children:"Profile Picture"}),(0,y.jsx)("div",{className:"edit-image-container",children:n.members_profile_picture?(0,y.jsx)("img",{src:n.members_profile_picture,alt:"Profile",className:"profile-image"}):(0,y.jsx)("img",{src:a(40518),alt:"Profile",className:"profile-image"})})]}),(0,y.jsx)("div",{className:"col-md-6",children:(0,y.jsxs)("div",{className:"nav-link-actions",children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-6 col-4",children:(0,y.jsx)(p.k2,{to:"#",onClick:()=>{q(!0)},className:"update-pic",children:"Update"})}),(0,y.jsx)("div",{className:"col-md-6 col-4",children:(0,y.jsx)(p.k2,{to:"#",onClick:()=>{n.members_profile_picture?G(C.ew.CONFIRM_MODAL,{title:"Remove Profile Picture",details:"Are you sure you really want to delete the profile picture?",confirmBtn:"Remove",onCloseCallback:$}):G(C.ew.CONFIRM_MODAL,{title:"Profile Picture Not Found !",onCloseCallback:$})},className:"remove-pic",children:"Remove"})})]}),(0,y.jsx)("p",{children:"Recommended: Square JPG, PNG, or GIF, at least 1,000 pixels per side."})]})}),U?(0,y.jsx)(S,{getFileName:e=>{m(e),L()},folderName:"profile-images"}):""]})}),(0,y.jsxs)("div",{className:"col-md-6 col-12 content-box",children:[(0,y.jsx)(h.Op,{...N,children:(0,y.jsxs)("form",{onSubmit:D((async e=>{e.members_phone_code=e.phone_code;const s=await Y({credentials:e,token:f});if("error"in s){var a;if(s.error)"data"in s.error&&null!==(a=s.error.data)&&void 0!==a&&a.error?o(s.error.data.error):o("An unexpected error occurred");console.error("Error logging in:",s.error)}else o(""),L(),i()})),noValidate:!0,children:[(0,y.jsx)("label",{children:"Title"}),(0,y.jsx)(u.A,{name:"members_name_title",placeholder:"",type:"text",registerConfig:{required:{value:!0,message:"Title is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"First Name"}),(0,y.jsx)(u.A,{name:"members_fname",placeholder:"",type:"text",registerConfig:{required:{value:!0,message:"First Name is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Surname"}),(0,y.jsx)(u.A,{name:"members_lname",placeholder:"",type:"text",registerConfig:{required:{value:!0,message:"Surname is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Phone"}),(0,y.jsx)(A.Z,{name:"members_phone",registerConfig:{required:{value:!1,message:"Phone is required"}},initialValue:n.members_phone_code}),(0,y.jsx)("label",{children:"Email Address"}),(0,y.jsx)(u.A,{name:"members_email",placeholder:"",type:"email",registerConfig:{required:{value:!0,message:"Email is required"}},className:"input-block"}),(0,y.jsx)(p.k2,{to:"#",onClick:()=>{G(C.ew.CHANGE_PASSWORD_MODAL,{title:"Change Password"})},style:{color:"#fff"},children:"Change Password"}),(0,y.jsx)("div",{className:"dob-picker"}),(0,y.jsx)("label",{children:"Address"}),(0,y.jsx)(u.A,{name:"members_address",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"Address is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Town"}),(0,y.jsx)(u.A,{name:"members_town",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"Town is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Region / County"}),(0,y.jsx)(u.A,{name:"members_region",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"Region is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Postcode"}),(0,y.jsx)(u.A,{name:"members_postcode",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"Postcode is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Country"}),(0,y.jsx)(k.A,{name:"members_country",registerConfig:{required:{value:!1,message:"Country is required"}},handleChange:async e=>{"M"===v&&"United States"===e.name?(J("Currently the full membership option is not available for American residents"),T().fire({title:"",text:"Currently the full membership option is not available for American residents",icon:"warning",showConfirmButton:!0,backdrop:"\n        rgba(255, 255, 255, 0.5)\n        left top\n        no-repeat\n        filter: blur(5px);\n      ",background:"#fff"})):J("")}}),(0,y.jsx)("label",{children:"Current Employment"}),(0,y.jsx)(u.A,{name:"members_employment",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"Employment is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Employment History"}),(0,y.jsx)(u.A,{name:"members_employment_history",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"Employment History is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"About Me"}),(0,y.jsx)(u.A,{name:"members_biography",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"About is required"}},className:"input-block"}),(0,y.jsx)("label",{children:"Interests"}),(0,y.jsx)(u.A,{name:"members_interest",placeholder:"",type:"text",registerConfig:{required:{value:!1,message:"Interests is required"}},className:"input-block"}),(0,y.jsx)("div",{className:"error",children:c}),(0,y.jsx)(x.$,{onClick:()=>console.log("Hello"),text:"Update and Save",icon:!0,theme:"light",className:"w-100 Update-save"})]})}),(0,y.jsx)("div",{className:"row sub-box",children:(0,y.jsx)("div",{className:"col-12 text-center",children:(0,y.jsx)("a",{style:{cursor:"pointer",color:"#ff0075"},onClick:()=>{G(C.ew.CONFIRM_MODAL,{title:"Delete Account?",details:"Are you sure you really want to delete the account?",confirmBtn:"Delete"})},children:"Delete Account"})})})]})]})})};var E=a(35411);const B=a(15526).l.injectEndpoints({endpoints:e=>({specbookings:e.mutation({query:()=>({url:"/specialists/bookingHistory",method:"GET"})}),memberbookings:e.mutation({query:()=>({url:"/member/bookingHistory",method:"GET"})}),acceptStatus:e.mutation({query:e=>{let{booking_id:s}=e;return{url:"/specialists/acceptBooking",method:"POST",body:{booking_id:s}}}}),cancelStatus:e.mutation({query:e=>{let{booking_id:s}=e;return{url:"/specialists/cancelBooking",method:"POST",body:{booking_id:s}}}}),videoCallDuration:e.mutation({query:e=>({url:"/member/videoDuration",method:"POST",body:e})})}),overrideExisting:!0}),{useSpecbookingsMutation:R,useMemberbookingsMutation:F,useAcceptStatusMutation:P,useCancelStatusMutation:Y,useVideoCallDurationMutation:H}=B;a(34348);const U=e=>{let{SinglecardDetail:s,SinglecardDetailButtons:i,handleSub:l}=e;const[n,r]=(0,t.useState)("Europe/London"),c=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s.fee),o="booking-detailsTable ".concat(i.btnClassname?i.btnClassname:"").trim(),d="joinAll ".concat("Y"===i.is_specialistval&&"MyBookings1"===i.bookingTab&&"Book Again"===i.btnText?"d-none":"").trim(),m=("grp-btn ".concat("A"!=s.call_status||"Y"===i.is_specialistval&&"MyBookings2"!==i.bookingTab?"":"d-none").trim(),"".concat("R"==s.call_status?"d-none":""));let h=!1;"Join Call"!==i.btnText||s.showCall?"Join Call"===i.btnText&&(i.btnTheme="light"):(h=!0,i.btnTheme="grey");let u=i.btnText;return"P"!==s.call_status&&"A"!==s.call_status||"Book Again"!==i.btnText||(u="Rearrange"),(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:o,children:(0,y.jsx)("div",{className:"booking-detailsTable",children:(0,y.jsxs)("div",{className:"booking-tabledata",children:[(0,y.jsxs)("div",{className:"d-block",children:[(0,y.jsxs)("div",{className:"tabledata",children:[(0,y.jsx)("div",{className:"dateSection-card",children:(0,y.jsxs)("div",{className:"date-section",children:[(0,y.jsx)("h2",{className:"customHeading",children:s.day}),(0,y.jsx)("div",{className:"month",children:(0,y.jsx)("span",{children:s.month})})]})}),(0,y.jsx)("div",{className:"details",children:(0,y.jsxs)("div",{className:"details-content",children:[(0,y.jsx)("div",{className:"profiledetails",children:(0,y.jsxs)("div",{className:"profile-section",children:[(0,y.jsx)("div",{className:"image-section",children:(0,y.jsx)("img",{src:s.member_image?"https://admin.reach.boats/storage/"+s.member_image:a(40518),alt:"",className:"img-fluid"})}),(0,y.jsxs)("div",{className:"profile-details",children:[(0,y.jsxs)("h2",{className:"customHeading",children:[s.firstName," ",s.lastName]}),(0,y.jsx)("p",{children:s.members_country})]})]})}),(0,y.jsxs)("div",{className:"timesprice-details",children:[(0,y.jsx)("div",{className:"times",children:(0,y.jsxs)("div",{className:"time-details",children:[(0,y.jsx)("span",{className:"time",children:s.time}),(0,y.jsx)("span",{className:"location",children:"London (GMT)"})]})}),(0,y.jsx)("div",{className:"pricedetails",children:(0,y.jsxs)("div",{className:"price",children:[(0,y.jsxs)("h4",{className:"customHeading",children:[s.currency,s.fee>0?c:"0.00"]}),(0,y.jsx)("p",{children:"Fee Paid"})]})})]})]})})]}),(0,y.jsx)("div",{className:"upcomingbooking-details",children:(0,y.jsx)("p",{children:s.call_scheduled_reason})})]}),(0,y.jsx)("div",{className:"action-field",children:(0,y.jsxs)("div",{className:"action",children:[(0,y.jsxs)("div",{className:"grp-btn ",children:[s.showCancel&&(0,y.jsx)("div",{className:"cancel",children:(0,y.jsx)(x.$,{onClick:e=>l(e,s),text:i.btnSmallText,icon:!1,theme:"light",className:"btn-cancel"})}),s.showRearrange&&(0,y.jsx)("div",{className:"Rearrange",children:(0,y.jsx)(x.$,{onClick:e=>l(e,s),text:"Rearrange",icon:!1,theme:"light",className:"btn-Rearrange Rearrange-btn"})})]}),(0,y.jsx)("div",{className:"".concat(d," ").concat(m),children:(0,y.jsx)(x.$,{onClick:e=>l(e,s),text:u,icon:!0,theme:i.btnTheme,className:"w-100",disabled:h})}),"R"===s.call_status&&"MyBookings2"===i.bookingTab&&(0,y.jsx)(x.$,{onClick:e=>l(e,s),text:"Accept",icon:!0,theme:"light",className:"w-100"})]})})]})})})})};const q=e=>{let{upcomingBookingData:s,upcomingButtonDetails:a,handleSub:t}=e;const i="booking-table ".concat("Y"===a.is_specialistval||s.length<=0?"d-none":"").trim();let l=s.length;return(0,y.jsx)("div",{className:"upcomingbooking-tab",children:(0,y.jsxs)("div",{className:"container mybooking-tab",children:[(0,y.jsx)("div",{className:"myBookingHead",children:(0,y.jsxs)("h2",{className:"customHeading",children:["Upcoming bookings (",l,")"]})}),(0,y.jsx)("div",{className:i,children:(0,y.jsx)("table",{className:"table memberBooking-table border-0",children:(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:"dates"}),(0,y.jsx)("th",{className:"meetingWith",children:"Meeting with"}),(0,y.jsx)("th",{className:"text-center",children:"Time"}),(0,y.jsx)("th",{children:"Fee"}),(0,y.jsx)("th",{className:"action-td"})]})})})}),s&&s.map(((e,s)=>(0,y.jsx)(U,{SinglecardDetail:e,SinglecardDetailButtons:a,handleSub:t},e.id||s)))]})})};const O=e=>{let{bookingHistoryData:s,HistoryButtonDetails:a,handleSub:t}=e,i=s.length;return(0,y.jsx)("div",{className:"history-tab",children:(0,y.jsxs)("div",{className:"container mybooking-tab",children:[(0,y.jsx)("div",{className:"myBookingHead",children:(0,y.jsxs)("h2",{className:"customHeading",children:["History (",i,")"]})}),s&&s.map(((e,s)=>(0,y.jsx)(U,{SinglecardDetail:e,SinglecardDetailButtons:a,handleSub:t},e.id||s)))]})})};const L=e=>{let{newBookingData:s,BookingreqButtonDetails:a,handleSub:t}=e,i=s.length;return(0,y.jsxs)("div",{className:"container mybooking-tab",children:[(0,y.jsx)("div",{className:"myBookingHead",children:(0,y.jsxs)("h2",{className:"customHeading",children:["new booking requests (",i,")"]})}),s&&s.map(((e,s)=>(0,y.jsx)(U,{SinglecardDetail:e,SinglecardDetailButtons:a,handleSub:t},e.id||s)))]})};var I=a(86178),G=a.n(I),$=a(81919),z=a(73216);const W=e=>{let{isOpen:s,toggle:i,singlecard:l,userImage:c,afterCancel:o}=e;const[d]=Y(),m=l.hourDifference>48?"You will be refunded 75% of your original fee":"No refund will be there";(0,t.useEffect)((()=>{}),[l.hourDifference]);return(0,y.jsx)(n.A,{isOpen:s,toggle:i,className:"sidebar-modal",children:(0,y.jsx)(r.A,{children:(0,y.jsx)("div",{className:"specialist-videomodal mybooking-videocancel",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsxs)("div",{className:"col-sm-12",children:[(0,y.jsxs)("div",{className:"image-wrapper",children:[(0,y.jsx)("div",{className:"imgbox",children:l.member_image?(0,y.jsx)("img",{style:{borderRadius:"50%"},src:"https://admin.reach.boats/storage/"+l.member_image,className:"img-fluid applicant-one",alt:""}):(0,y.jsx)("img",{src:a(40518),alt:"Profile",className:"img-fluid"})}),(0,y.jsx)("div",{className:"imgbox",children:c?(0,y.jsx)("img",{style:{borderRadius:"50%"},src:c,className:"img-fluid applicant-one",alt:""}):(0,y.jsx)("img",{src:a(40518),alt:"Profile",className:"img-fluid"})})]}),(0,y.jsx)("h3",{className:"customHeading",children:"Cancel this booking?"}),(0,y.jsxs)("p",{children:[l.scheduleDate," at ",l.scheduledTime," with"," ",l.firstName," ",l.lastName]}),(0,y.jsxs)("div",{className:"time-picker-box",children:["Are you sure you wish to cancel your booking? ",m,"."]}),(0,y.jsx)(x.$,{theme:"dark",onClick:()=>(async e=>{if("error"in await d({booking_id:e}))throw new Error("Failed to update");i(),o()})(l.id),text:"Cancel Booking",className:"ConfirmCall w-100",icon:!0}),(0,y.jsx)("div",{className:"cancel",children:(0,y.jsx)("a",{className:"button-link",onClick:i,children:"Keep the Booking"})})]})})})})})};var V=a(99410),J=a(91594);const X=e=>{let{isOpen:s,toggle:i,singlecard:l,userImage:c,afterAccept:o}=e;const[d]=P();(0,t.useEffect)((()=>{}),[l.hourDifference]);return(0,y.jsx)(n.A,{isOpen:s,toggle:i,className:"sidebar-modal",children:(0,y.jsx)(r.A,{children:(0,y.jsx)("div",{className:"specialist-videomodal mybooking-videocancel",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsxs)("div",{className:"col-sm-12",children:[(0,y.jsxs)("div",{className:"image-wrapper",children:[(0,y.jsx)("div",{className:"imgbox",children:l.member_image?(0,y.jsx)("img",{style:{borderRadius:"50%"},src:"https://admin.reach.boats/storage/"+l.member_image,className:"img-fluid applicant-one",alt:""}):(0,y.jsx)("img",{src:a(40518),alt:"Profile",className:"img-fluid"})}),(0,y.jsx)("div",{className:"imgbox",children:c?(0,y.jsx)("img",{style:{borderRadius:"50%"},src:c,className:"img-fluid applicant-one",alt:""}):(0,y.jsx)("img",{src:a(40518),alt:"Profile",className:"img-fluid"})})]}),(0,y.jsx)("h3",{className:"customHeading",children:"Accept this booking?"}),(0,y.jsxs)("p",{children:[l.scheduleDate," at ",l.scheduledTime," with"," ",l.firstName," ",l.lastName]}),(0,y.jsx)("div",{className:"time-picker-box",children:"Are you sure you wish to accept this booking? ."}),(0,y.jsx)(x.$,{theme:"dark",onClick:()=>(async e=>{if("error"in await d({booking_id:e}))throw new Error("Failed to update");i(),o()})(l.id),text:"Accept Booking",className:"ConfirmCall w-100",icon:!0}),(0,y.jsx)("div",{className:"cancel",children:(0,y.jsx)("a",{className:"button-link",onClick:i,children:"Cancel"})})]})})})})})};function Z(e){let{tabActive:s}=e;(0,z.Zp)();const i=(0,j.gL)("userData"),[l,n]=(0,t.useState)(""),{setIsShowEnvelopeIcon:r}=(0,V.Y)(),[c,o]=(0,t.useState)(!1);let d,m="GBP",h="",u="",x="",p="",g="";try{null!==i&&(h=i.Member_type,x=i.Member_id,m=i.currency?i.currency:"GBP",u=i.members_profile_picture,p=i.Token,g=i.is_specialist,i.members_profile_picture!==l&&(d=i.members_profile_picture,n(d)))}catch(fs){console.error("Error parsing user data:",fs)}const b={USD:"$",EUR:"\u20ac",GBP:"\xa3"},[f]=R(),[v]=F(),N="https://admin.reach.boats/storage/",[_,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)([]),[A,D]=(0,t.useState)([]),[M,E]=(0,t.useState)([]),[B,U]=(0,t.useState)(null),[I]=P(),[Z]=Y(),[K,Q]=(0,t.useState)(0),[ee,se]=(0,t.useState)(!1),ae=G()().toDate(),[te,ie]=(0,t.useState)(ae),[le,ne]=(0,t.useState)(),[re,ce]=(0,t.useState)("Europe/London"),[oe,de]=(0,t.useState)(""),[me,he]=(0,t.useState)(""),[ue,xe]=(0,t.useState)(null),[pe,ge]=(0,t.useState)(""),[je,be]=(0,t.useState)(0),[fe,ve]=(0,t.useState)(""),[Ne,ye]=(0,t.useState)(""),[_e,we]=(0,t.useState)(""),[Se,ke]=(0,t.useState)("1 hour"),[Ce,Ae]=(0,t.useState)(""),[De,Te]=(0,t.useState)(""),[Me,Ee]=(0,t.useState)([]),[Be,Re]=(0,t.useState)(!1),[Fe,Pe]=(0,t.useState)(!1),[Ye,He]=(0,t.useState)(!1),[Ue,qe]=(0,t.useState)(!1),[Oe,Le]=(0,t.useState)(s||"MyBookings2"),[Ie,Ge]=(0,t.useState)("MyProfile"),[$e,ze]=(0,t.useState)(""),[We,Ve]=(0,t.useState)(!1),[Je]=H(),Xe=()=>{Re(!Be)},Ze=()=>{Pe(!Fe)},Ke=e=>{Le(e),Ge(e),ps(e,g)},Qe=()=>{se(!ee),ie(ae),ne(null),de(""),he(""),ae&&hs(ae),ps(Oe,g)},{userId:es}=(0,z.g)(),[ss]=(0,$.ip)(),[as,ts]=(0,t.useState)([]),[is]=(0,$.js)(),[ls]=(0,$.rv)(),{showModal:ns}=(0,C.Vv)(),{hideModal:rs,store:cs}=(0,C.Vv)(),[os,ds]=(0,t.useState)(!1),ms=async(e,s)=>{ie(e),w(!0);try{const a=G()(e).format("YYYY-MM-DD");let t;if(void 0!==s)t=s;else{t=x}const i=await ss({specialist_id:t,call_scheduled_date:a,timeSlot:Se});if("error"in i)throw new Error("Failed to schedule call");const l=i.data.data.map((e=>G()(e.call_scheduled_time,"HH:mm:ss").format("hh:mm A")));ts(l)}catch(fs){console.error("Failed to schedule call:",fs)}finally{w(!1)}},hs=async e=>{ie(e),w(!0);try{const s=G()(e).format("YYYY-MM-DD");Ae("MyBookings1"===Oe||""===Oe?x:pe);const a=await ss({specialist_id:Ce,call_scheduled_date:s,timeSlot:Se});if("error"in a)throw new Error("Failed to schedule call");const t=a.data.data.map((e=>G()(e.call_scheduled_time,"HH:mm:ss").format("hh:mm A")));ts(t)}catch(fs){console.error("Failed to schedule call:",fs)}finally{w(!1)}},us=async(e,s)=>{const a=e.currentTarget.innerText;w(!0);try{if("accept"===a.toLowerCase()&&(c||"MyBookings1"!==Oe?(Ze(),Ee(s)):ns(C.ew.CONFIRM_MODAL,{title:"CONNECT STRIPE",details:"Please connect your stripe account from payment tab",confirmBtn:"OK",handleSubmit:()=>{Ze(),Ee(s),rs()}})),"cancel"===a.toLowerCase()&&(Xe(),Ee(s)),"propose new time"===a.toLowerCase()&&(Te(s.id),Qe(),xe(s.member_image?N+s.member_image:""),ms(ae,s.specialist_id),ke(s.timeSlot),ds(!0),ge(s.specialist_id),ze("Expert"),Ve(!0)),"book again"==a.toLowerCase()&&(qe(!0),ge(s.specialist_id),ve(s.firstName+" "+s.lastName),ye(s.firstName),we(s.lastName),be(s.fee),ds(!0),xe(s.member_image?N+s.member_image:""),hs(ae),Ve(!1)),"rearrange"===a.toLowerCase()&&(console.log("timeslot---",s.timeSlot),qe(!1),ge(s.specialist_id),ve(s.firstName+" "+s.lastName),ye(s.firstName),we(s.lastName),be(0),Te(s.id),ke(s.timeSlot),Ve(!0),se(!ee),ie(ae),ne(null),de(""),he(""),ze("MyBookings1"===Oe?"Expert":""),ds(!0),xe(s.member_image?N+s.member_image:""),ms(s.callDate,s.specialist_id)),"join call"===a.toLowerCase()&&"P"!==s.call_status){const e={meeting_id:s.meeting_link},a=await Je(e);if("data"in a){const e=new Date(s.scheduleDate+" "+s.scheduledTime),t=new Date(e.getTime()+6e4*a.data.duration),i=xs(new Date);if(console.log("nowcheck---",i),console.log("callEndTimecheck----",t),i<t){const e={meeting_id:s.meeting_link,subject:"Reach Call",call_date:s.scheduleDate+" "+s.scheduledTime,duration:a.data.duration,type:"call",is_expert:"MyBookings1"===Oe?"1":"0"},t=new URLSearchParams(e).toString();window.open("/video-call?".concat(t),"_blank")}}}ps(Oe,g)}catch(fs){console.error("Failed to update:",fs)}finally{w(!1)}};function xs(e){return new Date(e.toLocaleString("en-US",{timeZone:"Europe/London"}))}const ps=async(e,s)=>{w(!0);try{let a;if(a="MyBookings1"===e&&"Y"===s?await f(p):await v(p),"error"in a)throw new Error("Failed to fetch booking details");const t=await a.data.data,i=await a.data.stripe_verified;i&&o(i);const l=(e,s)=>{const[a,t]=e.split(":");let i=parseInt(a),l=parseInt(t);const n="".concat(i.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0")," ");let r=60*i+l+s,c=Math.floor(r/60)%24,o=r%60;const d="".concat(c.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")," ");return"".concat(n," - ").concat(d," ")},n="en-US",r=(e,s)=>{const a="2-digit",t="short";return"days"===s?e.toLocaleDateString(n,{day:a}):e.toLocaleDateString(n,{month:t})},c=e=>{const[s,a]=e.split(":"),t=parseInt(s),i=t>=12?"PM":"AM";return"".concat(t%12||12,":").concat(a," ").concat(i," ")},d=e=>{const s=new Intl.DateTimeFormat("en-US",{day:"2-digit"}).format(e),a=new Intl.DateTimeFormat("en-US",{month:"long"}).format(e),t=new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(e);return"".concat(s," ").concat(a," ").concat(t," ")},m=[],h=[],u=[];t.forEach((a=>{const t=new Date(a.call_scheduled_date),i=G()("".concat(a.call_scheduled_date,"T").concat(a.uk_scheduled_time)),n=i.format("ddd MMM DD YYYY HH:mm:ss"),o=(new Date(n),G()(xs(new Date))),x=i.diff(o,"minute"),p=i.diff(o,"hours");let g=a.call_status,j=!1,f=!1,v=!1;("MyBookings2"===e&&("A"===a.call_status||"P"===a.call_status||"R"===a.call_status||"S"===a.call_status)||"Y"===s&&"MyBookings2"!==e&&("P"===a.call_status||"R"===a.call_status))&&x>0&&(f=!0);let N=-60,y="30 min";"1hr"===a.timeSlot||"1 hour"===a.timeSlot?y="1 hour":(N=-30,y="30 min"),"A"===a.call_status&&x<1&&x>N&&(j=!0),(p>48&&"MyBookings2"===e&&"A"===a.call_status&&"1"!==String(a.member_rearrange)||"R"===a.call_status||"S"===a.call_status||"Y"===s&&"MyBookings2"!==e)&&x>0&&(v=!0),console.log("minuteDifference--",x),console.log("callduration---",N),(x<0&&"H"!==a.call_status&&"A"!==a.call_status||x<N&&"A"===a.call_status)&&(g="H");const _={id:a.id,specialist_id:a.specialist_id,fee:a.call_fee,callDate:t,day:r(t,"days"),month:r(t,"month"),time:l(a.uk_scheduled_time,a.duration),firstName:a.members_fname,lastName:a.members_lname,member_image:a.members_profile_picture,call_status:a.call_status,btnText:"",btnClassname:"",btnTheme:"",is_specialistval:"",bookingTab:"",scheduledTime:c(a.uk_scheduled_time),scheduleDate:d(t),call_scheduled_reason:a.call_scheduled_reason,members_country:a.members_country,meeting_link:a.meeting_link,showCancel:f,showCall:j,showRearrange:v,hourDifference:p,timeSlot:y,currency:b[a.currency],duration:a.duration};return"P"===g||"R"===g?(m.push(_),"MyBookings2"===e&&h.push(_)):"A"===g?h.push(_):"H"!==g&&"S"!==g||u.push(_),_})),k(m),D(h),E(u)}catch(fs){}finally{w(!1)}};(0,t.useEffect)((()=>{ps(Oe,g)}),[]);const gs={btnText:"Accept",btnClassname:"pending-status",btnTheme:"dark",btnSmallText:"Propose New Time",is_specialistval:g,bookingTab:Oe},js={btnText:"Join Call",btnClassname:"",btnTheme:"light",btnSmallText:"Cancel",is_specialistval:g,bookingTab:Oe},bs={btnText:"Book Again",btnClassname:"history-status",btnTheme:"light",btnSmallText:"Cancel",is_specialistval:g,bookingTab:Oe};return(0,y.jsxs)("div",{className:"mybooking-tabs",id:"mybooking",children:[_?(0,y.jsx)("div",{className:"page-loader",children:(0,y.jsx)("div",{className:"page-innerLoader",children:(0,y.jsx)("div",{className:"spinner-border",role:"status",children:(0,y.jsx)("img",{src:a(27951),alt:"",className:"img-fluid"})})})}):"","Y"===g?(0,y.jsx)("div",{className:"sub-childtab",children:(0,y.jsx)("div",{className:"tab-menu",children:(0,y.jsxs)("ul",{className:"tab-menu-ul",children:[(0,y.jsx)("li",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"MyBookings2"===Oe?"active":"",onClick:()=>Ke("MyBookings2"),children:"My Bookings"})}),(0,y.jsx)("li",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"MyBookings1"===Oe?"active":"",onClick:()=>Ke("MyBookings1"),children:"Expert Bookings"})})]})})}):"","Y"===g&&"MyBookings1"===Oe?(0,y.jsx)(L,{newBookingData:S,BookingreqButtonDetails:gs,handleSub:us}):"",(0,y.jsx)(q,{upcomingBookingData:A,upcomingButtonDetails:js,handleSub:us}),(0,y.jsx)(O,{bookingHistoryData:M,HistoryButtonDetails:bs,handleSub:us}),os&&(0,y.jsx)(J.d,{isOpen:os,toggleClose:()=>{ds(!1),ps(Oe,g)},userId:pe,specialistName:Ne,specialistLastName:Ne,timeSlot:Se,specialistDp:ue,changeTimeSlot:e=>{},reason:"",bookingId:De,from:$e,isRearrange:We,specialistFee:je}),Me&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X,{isOpen:Fe,toggle:Ze,singlecard:Me,userImage:l,afterAccept:()=>{T().fire({title:"Booking Accepted !",text:"Booking accepted successfully",icon:"success",timer:3e3,showConfirmButton:!1,backdrop:"\n        rgba(255, 255, 255, 0.5)\n        left top\n        no-repeat\n        filter: blur(5px);\n      ",background:"#fff"}),ps(Oe,g)}}),(0,y.jsx)(W,{isOpen:Be,toggle:Xe,singlecard:Me,userImage:l,afterCancel:()=>{T().fire({title:"Booking Cancelled !",text:"Booking cancelled successfully",icon:"success",timer:3e3,showConfirmButton:!1,backdrop:"\n        rgba(255, 255, 255, 0.5)\n        left top\n        no-repeat\n        filter: blur(5px);\n      ",background:"#fff"}),ps(Oe,g)}})]})]})}function K(){const{showModal:e}=(0,C.Vv)();return(0,y.jsxs)("div",{className:"col-md-12 col-12 py-2 General-Settings",children:[(0,y.jsx)(l.D,{tag:"h3",children:"General"}),(0,y.jsxs)("div",{className:"general-setting-text notification-text",children:[(0,y.jsx)(l.D,{tag:"h5",children:"Manage Notifications"}),(0,y.jsx)("p",{style:{fontSize:"14px"},children:"Manage what type of emails you get and mute notifications."})]}),(0,y.jsxs)("div",{className:"account-deactivation",children:[(0,y.jsx)(l.D,{tag:"h5",children:(0,y.jsx)("span",{style:{color:"#ff0075"},children:(0,y.jsx)("a",{style:{cursor:"pointer"},onClick:()=>{e(C.ew.CONFIRM_MODAL,{title:"Deactivate Profile",details:"Are you sure you really want to deactivate the profile?",confirmBtn:"Deactivate"})},children:"Deactivate Account"})})}),(0,y.jsx)("p",{style:{fontSize:"14px"},children:"Deactivating will suspend your account until you sign back in."})]}),(0,y.jsxs)("div",{className:"delete-account",children:[(0,y.jsx)(l.D,{tag:"h5",children:(0,y.jsx)("span",{style:{color:"#ff0075"},children:(0,y.jsx)("a",{style:{cursor:"pointer"},onClick:()=>{e(C.ew.CONFIRM_MODAL,{title:"Delete Account?",details:"Are you sure you really want to delete the account?",confirmBtn:"Delete"})},children:"Delete Account"})})}),(0,y.jsx)("p",{style:{fontSize:"14px"},children:"Deleting will suspend your account permanently."})]})]})}function Q(){const[e,s]=(0,t.useState)(null),{data:a,isLoading:i,isSuccess:l}=(0,g._b)({}),n=(0,h.mN)({defaultValues:{rate:{extra_GBP:0,half_GBP:0,one_GBP:0,extra_EUR:0,half_EUR:0,one_EUR:0,extra_USD:0,half_USD:0,one_USD:0}}}),{handleSubmit:r,getValues:c,reset:o}=n,[d]=(0,g._K)();(0,t.useEffect)((()=>{l&&a&&(s(a),o(a))}),[l,a,o]);const m=async()=>{const e=c();await d(e);T().fire({title:"Rate Updated!",text:"You have updated the Call Rates.",icon:"success",timer:3e3,showConfirmButton:!1,backdrop:"\n          rgba(255, 255, 255, 0.5)\n          left top\n          no-repeat\n          filter: blur(5px);\n        ",background:"#fff"})};return(0,y.jsxs)("div",{className:"general-setting-text",children:[(0,y.jsx)("div",{className:"mb-2",children:(0,y.jsx)("h5",{className:"mb-3  d-block customHeading ",children:"Set Call Rates"})}),(0,y.jsx)("div",{className:"form-content",children:(0,y.jsx)(h.Op,{...n,children:(0,y.jsx)("form",{onSubmit:r(m),children:(0,y.jsxs)("div",{className:"half-hourRate",children:[(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"label-heading",children:(0,y.jsx)("label",{className:"w-100 d-flex justify-content-start",children:"Half hour Rate"})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"\xa3"})}),(0,y.jsx)("div",{className:"input-content",children:(0,y.jsx)(u.A,{name:"rate.half_GBP",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"Half hour rate is required"}},className:"input-block"})})]})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"\u20ac"})}),(0,y.jsx)(u.A,{name:"rate.half_EUR",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"Half hour rate is required"}},className:"input-block"})]})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"$"})}),(0,y.jsx)(u.A,{name:"rate.half_USD",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"Half hour rate is required"}},className:"input-block"})]})})]}),(0,y.jsx)("div",{className:"input-box",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"label-heading",children:(0,y.jsx)("label",{className:"w-100 d-flex justify-content-start",children:"One Hour Call Rate"})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"\xa3"})}),(0,y.jsx)("div",{className:"input-content",children:(0,y.jsx)(u.A,{name:"rate.one_GBP",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"One hour rate is required"}},className:"input-block"})})]})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"\u20ac"})}),(0,y.jsx)("div",{className:"input-content",children:(0,y.jsx)(u.A,{name:"rate.one_EUR",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"One hour rate is required"}},className:"input-block"})})]})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"$"})}),(0,y.jsx)("div",{className:"input-content",children:(0,y.jsx)(u.A,{name:"rate.one_USD",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"One hour rate is required"}},className:"input-block"})})]})})]})}),(0,y.jsx)("div",{className:"input-box",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"label-heading",children:(0,y.jsx)("label",{className:"d-flex justify-content-start w-100",children:"Extra Time Call Rate"})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"\xa3"})}),(0,y.jsx)(u.A,{name:"rate.extra_GBP",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"Extra time rate is required"}},className:"input-block"})]})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"\u20ac"})}),(0,y.jsx)(u.A,{name:"rate.extra_EUR",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"Extra time rate is required"}},className:"input-block"})]})}),(0,y.jsx)("div",{className:"col-md-4 col-4",children:(0,y.jsxs)("div",{className:"input-box d-flex align-items-start",children:[(0,y.jsx)("div",{className:"Symbol mt-10",children:(0,y.jsx)("span",{children:"$"})}),(0,y.jsx)(u.A,{name:"rate.extra_USD",placeholder:"",type:"number",registerConfig:{required:{value:!0,message:"Extra time rate is required"}},className:"input-block"})]})})]})})]})})})}),(0,y.jsx)("div",{className:"save-action p-0",children:(0,y.jsx)(x.$,{onClick:r(m),text:"Save",icon:!0,theme:"dark",className:"call-rate"})})]})}a(66097);var ee=a(31899),se=a.n(ee);a(25015),a(35572);function ae(){var e,s;const a=G()().add(1,"days").toDate(),[i,l]=(0,t.useState)(a),[n,r]=(0,t.useState)([]),[c,o]=(0,t.useState)([{startTime:"",endTime:""}]),[d,m]=(0,t.useState)([]),[h,u]=(0,t.useState)({}),[p,j]=(0,t.useState)(!1),[b,f]=(0,t.useState)(!1),[N]=(0,g.Rv)(),[_]=(0,g.ty)(),{data:w,isLoading:S,isSuccess:k,refetch:C}=(0,g.D8)({}),[A,D]=(0,t.useState)({}),[M,E]=(0,t.useState)([]),[B,R]=(0,t.useState)({}),[F,P]=(0,t.useState)("");(0,t.useEffect)((()=>{if(k&&w){const e=w,s=[],a={},t={};Object.entries(e.dates).forEach((e=>{let[i,l]=e;a[i]=l.times,t[i]=l.id,s.push(new Date(i)),((e,s,a)=>{D((t=>{const i=t[e]||[];return{...t,[e]:[...i,{id:s,timeRange:a}]}}))})(i,l.id,l.times)})),u(t);const l=Object.keys(e.dates).map((e=>G()(e).toDate()));if(m(l),i){const e=G()(i).format("YYYY-MM-DD");if(a[e]){const s=a[e].map((e=>{const[s,a]=e.split("-");return{startTime:s,endTime:a}}));o(s)}}}}),[w,k,i]);const Y=(e,s,a)=>{const t=[...c];if(t[e][s]=a,"startTime"===s&&t[e].endTime){const s=G()(a,"HH:mm");G()(t[e].endTime,"HH:mm").isAfter(s)||(t[e].endTime="")}o(t),P("")},H=e=>{const s=G()(c[e].startTime,"HH:mm");return n.filter((e=>{const a=G()(e,"HH:mm");return s.isValid()&&a.isAfter(s)})).map((e=>(0,y.jsx)("option",{value:e,children:e},e)))};(0,t.useEffect)((()=>{(()=>{const e=G()("00:00","HH:mm"),s=G()().endOf("day"),a=[];let t=G()(e);for(;t.isBefore(s);)a.push(t.format("HH:mm")),t.add(60,"minutes");r(a)})()}),[]);let U=(null===(e=c[0])||void 0===e?void 0:e.startTime)&&(null===(s=c[0])||void 0===s?void 0:s.endTime);""===U&&p&&(U="1");const q=(e=>{var s,a,t,i;if(0===Object.keys(e).length)return[];const l=[],n=Object.keys(e).sort();let r=n[0],c=n[0],o=(null===(s=e[r])||void 0===s||null===(a=s[0])||void 0===a?void 0:a.timeRange)||[],d=[(null===(t=e[r])||void 0===t||null===(i=t[0])||void 0===i?void 0:i.id)||0];for(let h=1;h<n.length;h++){var m;const s=n[h],a=null===(m=e[s])||void 0===m?void 0:m[0],t=(null===a||void 0===a?void 0:a.timeRange)||[],i=null===a||void 0===a?void 0:a.id,u=1===G()(s).diff(G()(c),"days"),x=JSON.stringify(t)===JSON.stringify(o);u&&x?(c=s,void 0!==i&&d.push(i)):(r=G()(r).format("D/M/YYYY"),c=G()(c).format("D/M/YYYY"),l.push({ids:d,date:r===c?r:"".concat(r," to ").concat(c),times:o}),r=s,c=s,o=t,d=[i||0])}return r=G()(r).format("D/M/YYYY"),c=G()(c).format("D/M/YYYY"),l.push({ids:d,date:r===c?r:"".concat(r," to ").concat(c),times:o}),l})(A);return(0,y.jsxs)("div",{className:"general-setting-text unavailableDate-text",children:[(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("h5",{className:"mb-4 d-block customHeading",children:"Set Unavailable Dates"}),(0,y.jsx)("div",{className:"horizontal-calendar",children:(0,y.jsx)(se(),{selectedDates:M,selectsMultiple:!0,onChange:e=>{e&&e.length>0?E(e):E([])},minDate:new Date(Date.now()+864e5),inline:!0})})]}),(0,y.jsx)("div",{className:"mb-4",children:q.length>0&&(0,y.jsx)("div",{className:"table-workingHours",children:(0,y.jsx)("table",{className:"table",children:(0,y.jsx)("tbody",{children:q.map(((e,s)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:e.date}),(0,y.jsx)("td",{className:"text-center",children:e.times.join(", ")}),(0,y.jsx)("td",{children:(0,y.jsxs)("div",{className:"action-area",children:[(0,y.jsx)(x.$,{onClick:()=>(async e=>{if(!e.date)return void console.error("Date is undefined or invalid.");const[s,a]=e.date.includes("to")?e.date.split(" to ").map((e=>e.trim())):[e.date,e.date],t=G()(s,"D/M/YYYY",!0),i=G()(a,"D/M/YYYY",!0);if(!t.isValid()||!i.isValid())return void console.error("Start date or end date is invalid.");const l=[];let n=G()(t);for(;n.isSameOrBefore(i);)l.push(n.toDate()),n.add(1,"days");E(l);const r=l.reduce(((s,a,t)=>(s[G()(a).format("YYYY-MM-DD")]=e.ids[t]||null,s)),{});R(r);const c=(e.times||[]).map((e=>{if(!e.includes("-"))return console.error("Time range format is invalid."),{startTime:"",endTime:""};const[s,a]=e.split("-");return{startTime:G()(s.trim(),"HH:mm",!0).format("HH:mm"),endTime:G()(a.trim(),"HH:mm",!0).format("HH:mm")}})).filter((e=>e.startTime&&e.endTime));o(c)})(e),text:"",icon:!0,iconname:v.MT7,theme:"light",className:"time-save-btn"}),(0,y.jsx)(x.$,{onClick:()=>(async e=>{T().fire({title:"Are you sure?",text:"This action will permanently Delete the unavailable date and time.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete it!",cancelButtonText:"Cancel",backdrop:"\n          rgba(255, 255, 255, 0.5)\n          left top\n          no-repeat\n          filter: blur(5px);\n        ",background:"#fff"}).then((async s=>{if(s.isConfirmed)try{const s={id:e.ids},a=await _(s);"error"in a?console.error("Error logging in:",a.error):(T().fire({title:"Deleted!",text:"The unavailable date and time deleted successfully",icon:"success",timer:3e3,showConfirmButton:!1,backdrop:"\n                    rgba(255, 255, 255, 0.5)\n                    left top\n                    no-repeat\n                    filter: blur(5px);\n                  ",background:"#fff"}),C?C():console.warn("Refetch is null, cannot refetch data."))}catch(a){console.error("Error archiving campaign:",a)}})),D({}),o([{startTime:"",endTime:""}]),E([]),C()})(e),text:"",icon:!0,iconname:v.BeE,theme:"light",className:"time-save-btn"})]})})]},s)))})})})}),(0,y.jsx)("div",{className:"time-block-parent",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-8 col-12",children:(0,y.jsx)("div",{className:"time-selection d-block",children:c.map(((e,s)=>(0,y.jsxs)("div",{className:"row w-100 d-flex",children:[(0,y.jsx)("div",{className:"col-md-6 col-6",children:(0,y.jsx)("div",{className:"action-box",children:(0,y.jsxs)("select",{className:"form-select",value:e.startTime,onChange:e=>Y(s,"startTime",e.target.value),children:[(0,y.jsx)("option",{value:"",children:"Select Time"}),n.map((e=>(0,y.jsx)("option",{value:e,children:e},e)))]})})}),(0,y.jsx)("div",{className:"col-md-6 col-6",children:(0,y.jsx)("div",{className:"action-box",children:(0,y.jsxs)("select",{className:"form-select",value:e.endTime,onChange:e=>Y(s,"endTime",e.target.value),children:[(0,y.jsx)("option",{value:"",children:"Select Time"}),H(s)]})})})]},s)))})}),(0,y.jsx)("div",{className:"col-md-4 col-12",children:(0,y.jsx)("div",{className:"d-flex time-save-btn-div",children:U&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.$,{onClick:()=>{const e=c[0],s=G()(e.endTime,"hh:mm A"),a=n.filter((e=>G()(e,"hh:mm A").isAfter(s)));j(!0),o([{startTime:"",endTime:"",availableTimes:a},...c])},text:"Add",icon:!0,iconname:v.QLR,theme:"dark",className:"time-add-btn"}),(0,y.jsx)(x.$,{onClick:()=>{if(i){const e=G()(i).format("YYYY-MM-DD"),s={...A};s[e]&&(s[e]=[]),j(!0),D(s),o([{startTime:"",endTime:""}])}P("")},text:"Clear all",icon:!0,theme:"dark",className:"clear-btn"})]})})})]})}),(0,y.jsxs)("div",{className:"time-selection",children:[""!==F&&(0,y.jsxs)("div",{style:{color:"red"},children:["* ",F]}),(0,y.jsxs)("div",{className:"save-action time-save-btn-div contentEnd",children:[U&&(0,y.jsx)(x.$,{onClick:async()=>{const e={};if(M.length>0){P("");M.map((e=>G()(e).format("YYYY-MM-DD")));const s=new Set(M.map((e=>G()(e).format("YYYY-MM-DD")))),a=Object.keys(B).filter((e=>!s.has(e)));M.map(((s,a)=>c.forEach((a=>{let{startTime:t,endTime:i}=a;if(t&&i&&s){const a="".concat(t,"-").concat(i),l=G()(s).format("YYYY-MM-DD");e[l]?e[l]=[a,...e[l]]:e[l]=[a]}}))));const t={dates:e,excluded_dates:a},i=await N(t);"error"in i?console.error("Error logging in:",i.error):(T().fire({title:"Saved!",text:"The unavailable date and time saved successfully",icon:"success",timer:3e3,showConfirmButton:!1,backdrop:"\n            rgba(255, 255, 255, 0.5)\n            left top\n            no-repeat\n            filter: blur(5px);\n        ",background:"#fff"}),C?C():console.warn("Refetch is null, cannot refetch data.")),f(!b),D({}),o([{startTime:"",endTime:""}]),E([]),C()}else P("Please select date")},text:"Save",icon:!0,theme:"dark",className:""}),U&&(0,y.jsx)(x.$,{onClick:()=>{o([{startTime:"",endTime:""}]),E([])},text:"Cancel",icon:!0,theme:"dark",className:"mx-2"})]})]})]})}function te(){const[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[l,n]=(0,t.useState)([]),[r,c]=(0,t.useState)(""),[o,d]=(0,t.useState)(""),[m,h]=(0,t.useState)([]),[u,p]=(0,t.useState)(null),[j]=(0,g.Aj)(),[b]=(0,g.Uf)(),[f]=(0,g.qP)(),{data:N,isSuccess:_,isLoading:w,refetch:S}=(0,g.MI)({});(0,t.useEffect)((()=>{if(_&&N&&null===u){const e=N.working_hours,s=e.flatMap((e=>({day:e.days}))),a=e.map((e=>{const[s,a]=e.time[0].split("-");return{id:e.id,day:e.days,times:[{startTime:s,endTime:a}]}}));i(a),n(s)}}),[_,N,S,u]);(0,t.useEffect)((()=>{(()=>{const e=G()("00:00","HH:mm"),s=G()().endOf("day"),a=[];let t=G()(e);for(;t.isBefore(s);)a.push(t.format("HH:mm")),t.add(60,"minutes");h(a)})(),S()}),[]);return(0,y.jsxs)("div",{className:"general-setting-text",children:[(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("h5",{className:"mb-4 d-block customHeading",children:"Set Working Hours"}),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((a=>(0,y.jsx)("div",{className:"weeklyDiv ".concat(e.some((e=>e.day===a))?"active":""," ").concat(l.some((e=>e.day.includes(a)))?"disabled":""),onClick:()=>(a=>{if(!l.some((e=>e.day.includes(a))))if(e.some((e=>e.day===a))){const t=e.filter((e=>e.day!==a));s(t)}else s([...e,{day:a,times:[]}])})(a),children:(0,y.jsx)("span",{children:a})},a)))]}),e.length>0&&(0,y.jsx)("div",{className:"time-selection d-flex",children:(0,y.jsxs)("div",{className:"row w-100",children:[(0,y.jsx)("div",{className:"col-md-4 col-12",children:(0,y.jsxs)("div",{className:"action-box",children:[(0,y.jsx)("label",{children:"Start Time:"}),(0,y.jsxs)("select",{className:"form-select",value:r,onChange:e=>{c(e.target.value),d("")},children:[(0,y.jsx)("option",{value:"",children:"Select Time"}),m.map((e=>(0,y.jsx)("option",{value:e,children:e},e)))]})]})}),(0,y.jsx)("div",{className:"col-md-4 col-12",children:(0,y.jsxs)("div",{className:"action-box",children:[(0,y.jsx)("label",{children:"End Time:"}),(0,y.jsxs)("select",{className:"form-select",value:o,onChange:e=>d(e.target.value),disabled:!r,children:[(0,y.jsx)("option",{value:"",children:"Select Time"}),m.filter((e=>r&&G()(e,"HH:mm").isAfter(G()(r,"HH:mm")))).map((e=>(0,y.jsx)("option",{value:e,children:e},e)))]})]})}),(0,y.jsx)("div",{className:"col-md-4 col-12 px-2",children:(0,y.jsx)("div",{className:"d-flex time-save-btn-div",children:r&&o&&(0,y.jsx)(x.$,{onClick:async()=>{const a=e.map((e=>0===e.times.length?{...e,times:[{startTime:r,endTime:o}]}:e));s(a),c(""),d("");const t=a.reduce(((e,s)=>{const a="".concat(s.times[0].startTime,"-").concat(s.times[0].endTime),t=e.find((e=>e.time[0]===a));return t?t.days.push(s.day):e.push({days:[s.day],time:[a]}),e}),[]);if(u){const e={id:u,working_hours:t};await b(e).unwrap().then((e=>console.log(e,"Update SUCCESS"))).catch((e=>console.log(e,"Error Response")))}else{const e={working_hours:t};await j(e).unwrap().then((e=>console.log(e,"SUCCESS RESPONSE"))).catch((e=>console.log(e,"ERROR RESPONSE")))}S(),s([]),p(null)},text:"Save",icon:!0,theme:"dark",className:"working-hours"})})})]})}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-md-12 col-sm-12 px-0",children:(0,y.jsx)("div",{className:"time-selection time-selection-block d-block mb-10",children:(0,y.jsx)("div",{className:"working-hours-row row mx-0",children:(0,y.jsx)("div",{className:"col-md-12 col-12",children:(0,y.jsx)("div",{className:"table-workingHours",children:(0,y.jsx)("table",{className:"table",children:(0,y.jsx)("tbody",{children:a.map(((e,t)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:Array.isArray(e.day)?e.day.join(", "):e.day}),(0,y.jsxs)("td",{className:"text-center",children:[e.times[0].startTime," - ",e.times[0].endTime]}),(0,y.jsx)("td",{children:(0,y.jsxs)("div",{className:"action-area",children:[(0,y.jsx)(x.$,{onClick:()=>(async e=>{let t=e.day,r=e.times;c(r[0].startTime),d(r[0].endTime),"string"===typeof t&&(t=t.split(","));const o=t.map((e=>({day:e,times:[]})));s(o);const m=a.filter((s=>s.id!==e.id));i(m);const h=((e,s)=>e.map((e=>({day:e.day.filter((e=>!s.includes(e)))}))).filter((e=>e.day.length>0)))(l,t);n(h),p(e.id)})(e),text:"",icon:!0,iconname:v.MT7,theme:"light",className:"time-save-btn",disabled:null!==u&&u!==e.id}),(0,y.jsx)(x.$,{onClick:()=>(async e=>{T().fire({title:"Are you sure?",text:"This action will permanently Delete the day and working hours.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete it!",cancelButtonText:"Cancel",backdrop:"\n          rgba(255, 255, 255, 0.5)\n          left top\n          no-repeat\n          filter: blur(5px);\n        ",background:"#fff"}).then((async s=>{if(s.isConfirmed)try{const s={id:e},a=await f(s);"error"in a?console.error("Error logging in:",a.error):(T().fire({title:"Deleted!",text:"The day and working hours deleted successfully",icon:"success",timer:3e3,showConfirmButton:!1,backdrop:"\n                    rgba(255, 255, 255, 0.5)\n                    left top\n                    no-repeat\n                    filter: blur(5px);\n                  ",background:"#fff"}),S?S():console.warn("Refetch is null, cannot refetch data."))}catch(a){console.error("Error archiving campaign:",a)}}))})(e.id),text:"",icon:!0,iconname:v.BeE,theme:"light",className:"time-save-btn",disabled:null!==u})]})})]},t)))})})})})})})})})]})}function ie(){return(0,y.jsxs)("div",{className:"col-md-12 col-12 py-2 General-Settings",children:[(0,y.jsx)(l.D,{tag:"h3",children:"Expert"}),(0,y.jsx)(te,{}),(0,y.jsx)(ae,{}),(0,y.jsx)(Q,{})]})}function le(){const e=(0,j.gL)("userData");let s="";try{null!==e?s=e.is_specialist:console.error("User data not found in local storage")}catch(a){console.error("Error parsing user data:",a)}return(0,y.jsx)("div",{className:"profile-page-content",children:(0,y.jsx)("div",{className:"container profile-div",children:(0,y.jsxs)("div",{style:{maxWidth:"700px",margin:"auto",display:"block"},children:[(0,y.jsx)(K,{}),"Y"===s?(0,y.jsx)(ie,{}):""]})})})}var ne=a(58786);const re=()=>{const[e,s]=(0,t.useState)(0),[i,l]=(0,t.useState)(0),[n,r]=(0,t.useState)([]),[c,o]=(0,t.useState)(!1),{data:d,isLoading:m,isSuccess:h,refetch:u}=(0,g.qw)({}),[p,b]=(0,t.useState)(0),[f,v]=(0,t.useState)(0),[N,_]=(0,t.useState)(0),[w,S]=(0,t.useState)(""),[k,C]=(0,t.useState)([]),[A,D]=(0,t.useState)(!1),[M,E]=(0,t.useState)([]),[B,R]=(0,t.useState)(1),[F]=(0,g.Rt)({}),P=(0,j.gL)("userData"),Y=((0,z.Zp)(),{USD:"$",EUR:"\u20ac",GBP:"\xa3"});let H="",U="",q="GBP";try{null!==P?(H=P.Token,U=P.Member_type,q=P.currency?P.currency:"GBP"):console.error("User data not found in local storage")}catch(G){console.error("Error parsing user data:",G)}(0,t.useEffect)((()=>{u()}),[]),(0,t.useEffect)((()=>{h&&d&&(r(d.data),v(d.escrow_balance),_(d.redeem_amount),b(d.total_earned),s(d.total_rewards),l(d.available_rewards),d.converted_amount&&C(d.converted_amount),o(d.stripe_verified),S(d.stripe_url))}),[h,d]);const O=()=>({columns:[{name:"Date",selector:e=>e.name,width:"150px",sortable:!1},{name:"Transaction",selector:e=>e.transaction,width:"150px",sortable:!1},{name:"Description",selector:e=>e.description,width:"300px",sortable:!1},{name:"Amount",selector:e=>e.amount,width:"150px",sortable:!1},{name:"",selector:e=>e.expand,width:"50px",sortable:!1}],rows:n.flatMap((e=>{const s=M.includes(e.transaction_id);let a="status-pending",t="+";return"Debit"===e.transaction_type&&(a="status-completed",t="-","Withdraw"===e.status&&(a="status-pending",t="+")),[{name:e.payment_date||"N/A",transaction:e.transaction_id,description:e.type,amount:(0,y.jsxs)("span",{className:a,children:[t,Y[q],e.converted_actual_amount?parseFloat(e.converted_actual_amount).toFixed(2):"0.00"]}),expand:(0,y.jsx)("button",{className:"btn btn-light btn-sm",onClick:()=>{return s=e.transaction_id,void E((e=>e.includes(s)?e.filter((e=>e!==s)):[...e,s]));var s},children:s?(0,y.jsx)("i",{className:"fas fa-chevron-up"}):(0,y.jsx)("i",{className:"fas fa-chevron-down"})})},...s?[{name:"",transaction:"",description:(0,y.jsxs)("div",{children:["Completed"===e.status&&"Withdraw"===e.type?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("p",{children:"Withdrawal of available to redeem amount :"})}):"","Completed"===e.status&&"Book A Call"===e.type?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("p",{children:["Paid to ",e.connected_member.members_fname," ",e.connected_member.members_lname," for expert call :"]})}):"","Withdraw"===e.status&&"Book A Call"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{children:["Paid by ",e.connected_member.members_fname," ",e.connected_member.members_lname," for expert call :",(0,y.jsxs)("span",{className:"status-pending",children:["+",Y[e.from_currency],parseFloat(e.original_amount).toFixed(2)]})]}),(0,y.jsxs)("p",{children:["Fee for boat :",(0,y.jsxs)("span",{className:"status-completed",children:["-",Y[e.from_currency],parseFloat(e.reduced_amount).toFixed(2)]})]}),(0,y.jsx)("p",{children:"Exchange Rate ($)"}),(0,y.jsxs)("p",{children:["Withdrawal request :",(0,y.jsxs)("span",{className:"status-completed",children:["-",Y[e.from_currency],parseFloat(e.actual_amount).toFixed(2)]})]})]}):"","Refunded"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{children:["Paid to ",e.connected_member.members_fname," ",e.connected_member.members_lname," for expert call :",(0,y.jsxs)("span",{className:"status-completed",children:["-",Y[e.from_currency],parseFloat(e.original_amount).toFixed(2)]})]}),(0,y.jsxs)("p",{children:["Fee for boat :",(0,y.jsxs)("span",{className:"status-pending",children:["+",Y[e.from_currency],parseFloat(e.reduced_amount).toFixed(2)]})]}),(0,y.jsxs)("p",{children:["Refund request :",(0,y.jsxs)("span",{className:"status-pending",children:["+",Y[e.from_currency],parseFloat(e.actual_amount).toFixed(2)]})]})]}):"","Referral"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{children:["Referred ",e.connected_member.members_fname," ",e.connected_member.members_lname," :",(0,y.jsxs)("span",{className:"status-pending",children:["(","+",Y[e.from_currency],parseFloat(e.actual_amount).toFixed(2),")"]})]}),(0,y.jsx)("p",{children:" Exchange Rate :"})]}):"","Membership"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:" Membership Fee:"}),(0,y.jsxs)("p",{children:[" Referral Discount ",e.connected_member_id?"(Referred By -  ".concat(e.connected_member.members_fname," ").concat(e.connected_member.members_lname,")"):"",":"]}),(0,y.jsx)("p",{children:" Amount Paid:"})]}):""]}),amount:(0,y.jsxs)("div",{children:["Completed"===e.status&&"Withdraw"===e.type?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_original_amount).toFixed(2)]})}):"","Completed"===e.status&&"Book A Call"===e.type?(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_original_amount).toFixed(2)]}):"","Withdraw"===e.status&&"Book A Call"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{className:"status-pending",children:["+",Y[q],parseFloat(e.converted_original_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_reduced_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-pending",children:[Y[q],parseFloat(e.rate).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_actual_amount).toFixed(2)]})]}):"","Refunded"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_original_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-pending",children:["+",Y[q],parseFloat(e.converted_reduced_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-pending",children:["+",Y[q],parseFloat(e.converted_actual_amount).toFixed(2)]})]}):"","Referral"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{className:"status-pending",children:["+",Y[q],parseFloat(e.converted_original_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_reduced_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-completed",children:[Y[q],parseFloat(e.rate).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_actual_amount).toFixed(2)]})]}):"","Membership"===e.type?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_original_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-pending",children:["+",Y[q],parseFloat(e.converted_reduced_amount).toFixed(2)]}),(0,y.jsxs)("p",{className:"status-completed",children:["-",Y[q],parseFloat(e.converted_actual_amount).toFixed(2)]})]}):""]}),expand:""}]:[]]}))}),L=async()=>{if(c||""===w){D(!0);try{const e=await F({}).unwrap();e.success&&e.account_link?(D(!1),window.location.replace(e.account_link)):console.error("Failed to create Stripe account:",e.message)}catch(G){console.error("Error fetching available jobs:",G)}finally{D(!1)}}else;},[I]=(0,g.D2)();return(0,y.jsx)("div",{className:"transaction-contents",children:A?(0,y.jsx)("div",{className:"page-loader",children:(0,y.jsx)("div",{className:"page-innerLoader",children:(0,y.jsx)("div",{className:"spinner-border",role:"status",children:(0,y.jsx)("img",{src:a(27951),alt:"",className:"img-fluid"})})})}):(0,y.jsxs)("div",{className:"container",children:[(0,y.jsx)("div",{className:"Transaction-details",children:(0,y.jsx)("div",{className:"redeemcard",children:(0,y.jsxs)("div",{className:"card-content",children:[(0,y.jsx)("div",{className:"card-content-head",children:(0,y.jsxs)("div",{className:"heading",children:[(0,y.jsxs)("div",{className:"content-head",children:[(0,y.jsx)("label",{className:"title",children:"Escrow Balance"}),(0,y.jsxs)("h3",{className:"customHeading text-start",children:[Y[q],f]})]}),(0,y.jsxs)("div",{className:"content-head AvailabletoRedeem",children:[(0,y.jsx)("label",{className:"title",children:"Available to Redeem"}),(0,y.jsxs)("h3",{className:"customHeading text-start",children:[Y[q],N]})]})]})}),(0,y.jsx)("div",{className:"card-content-head total-earned",children:(0,y.jsx)("div",{className:"heading",children:(0,y.jsxs)("div",{className:"content-head",children:[(0,y.jsx)("label",{className:"title",children:"Total Earned"}),(0,y.jsxs)("h3",{className:"customHeading text-start",children:[Y[q],p]})]})})}),(0,y.jsx)("div",{className:"redeem-option",children:c?(0,y.jsx)(x.$,{onClick:()=>(async()=>{if(N>25){D(!0);try{let e={withdraw_amount:N,currency:q};(await I(e).unwrap()).status&&(T().fire({title:"Withdraw Success",text:"The amount has been withdrawn to your account",icon:"success",showConfirmButton:!0,backdrop:"\n                            rgba(255, 255, 255, 0.5)\n                            left top\n                            no-repeat\n                            filter: blur(5px);\n                        ",background:"#fff"}),u())}catch(G){console.error("Error fetching available jobs:",G)}finally{D(!1)}}else T().fire({title:"",text:"You need a minimum amount of 25 to redeem",icon:"warning",showConfirmButton:!0,backdrop:"\n                    rgba(255, 255, 255, 0.5)\n                    left top\n                    no-repeat\n                    filter: blur(5px);\n                ",background:"#fff"})})(),text:"Redeem Reward",icon:!0,theme:"light",className:"w-100"}):(0,y.jsx)(x.$,{onClick:()=>L(),text:"Connect Stripe Account",icon:!0,theme:"light",className:"w-100"})}),k.length>0&&(0,y.jsxs)("div",{className:"RedemptionRequirement",children:[(0,y.jsx)("h2",{className:"customHeading",children:"Your Earnings"}),(0,y.jsx)("ul",{className:"px-4 px-sm-0",children:k.map(((e,s)=>(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",color:"white"},children:[(0,y.jsxs)("div",{className:"col-4 p-1 currency-item",children:[Y[e.currency],e.amount]}),(0,y.jsx)("div",{className:"col-4 text-center currency-rate",children:e.rate}),(0,y.jsxs)("div",{className:"col-4 text-end currencySymbol",children:[Y[q],e.converted_amount]})]})))})]}),(0,y.jsx)("div",{className:"divider"}),(0,y.jsxs)("div",{className:"RedemptionRequirement",children:[(0,y.jsx)("h2",{className:"customHeading",children:"Withdrawal Requirement"}),(0,y.jsxs)("p",{children:["A minimum of ",Y[q],"25 is required to withdraw your funds."]})]}),(0,y.jsx)("div",{className:"divider"})]})})}),(0,y.jsx)("div",{className:"history-status",children:(0,y.jsx)("h2",{className:"customHeading",children:"Transaction History"})}),(0,y.jsx)("div",{className:"transactionHistory-Table",children:(0,y.jsxs)("div",{className:"card",children:[(0,y.jsxs)("div",{className:"select_dropDown",children:[(0,y.jsx)("div",{className:"selectDiv",children:(0,y.jsxs)("select",{className:"form-select",onChange:e=>{const s=e.target.value,a=d.data.filter(((e,a)=>{var t;return(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())===s.toLowerCase()}));r("All"===s?d.data:a)},children:[(0,y.jsx)("option",{value:"All",children:"All"}),(0,y.jsx)("option",{value:"Book A Call",children:"Book A Call"}),(0,y.jsx)("option",{value:"Membership",children:"Membership"}),(0,y.jsx)("option",{value:"Referral",children:"Referral"}),(0,y.jsx)("option",{value:"Refunded",children:"Refund"})]})}),(0,y.jsx)("div",{className:"searchDiv",children:(0,y.jsx)("input",{placeholder:"Search",type:"text",name:"search",className:"form-control",onChange:e=>{const s=e.target.value;if(""!==s){const e=d.data.filter((e=>e.members_fname.toLowerCase().includes(s.toLowerCase())));r(e)}else r(d.data)}})})]}),(0,y.jsx)(ne.Ay,{columns:O().columns,data:O().rows,pagination:!0,paginationServer:!0,paginationTotalRows:n.length,onChangePage:e=>{R(e)}})]})})]})})};var ce=a(92382),oe=(a(4430),a(69078),a(38126)),de=a(91614);const me=()=>{const{data:e,error:s,isLoading:a,isSuccess:i,refetch:l}=(0,g.nG)({}),[n,r]=(0,t.useState)("light"),[c,o]=(0,t.useState)("light"),[d,m]=(0,t.useState)(!1),[h,u]=(0,t.useState)(!1),p=(0,j.gL)("userData"),[b]=(0,g.Rt)({}),[f,N]=(0,t.useState)([]),[_,w]=(0,t.useState)(0),[S,k]=(0,t.useState)(0),[C,A]=(0,t.useState)(0),[D,T]=(0,t.useState)(""),[M,E]=(0,t.useState)(!1),[B,R]=(0,t.useState)(""),F={USD:"$",EUR:"\u20ac",GBP:"\xa3"};let P="",Y="",H="GBP";try{null!==p?(P=p.Token,Y=p.Member_type,H=p.currency?p.currency:"GBP"):console.error("User data not found in local storage")}catch(s){console.error("Error parsing user data:",s)}(0,t.useEffect)((()=>{l()}),[]),(0,t.useEffect)((()=>{i&&e&&(N(e.data),w(e.total_rewards),k(e.available_rewards),A(parseInt(e.referral_bonus)),T(e.referral_code),E(e.stripe_varify),R(e.stripe_url))}),[i,e]);const U=(e,s)=>{e?navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((()=>{"url"===s?(o("grey"),u(!0),r("light"),m(!1)):(r("grey"),m(!0),o("light"),u(!1))})).catch((e=>{console.error("Failed to copy text to clipboard:",e)})):(console.error("Clipboard API not available"),q(e,s)):console.error("Coupon code is empty")},q=(e,s)=>{const a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.top="0",a.style.left="0",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy"),"url"===s?(o("grey"),u(!0),r("light"),m(!1)):(r("grey"),m(!0),o("light"),u(!1))}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(a)},[O]=(0,g.D2)();return(0,y.jsx)("div",{className:"MyRefferals-page",children:(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-12 col-sm-12",children:(0,y.jsx)("div",{className:"card-content url-card",children:(0,y.jsxs)("div",{className:"card-content-head",children:[(0,y.jsxs)("div",{className:"ReferralCode-options pb-0",children:[(0,y.jsx)("label",{className:"labelhead",children:"Referral Code"}),(0,y.jsx)("div",{className:"ReferralCode-text",children:"M"===Y?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"ReferralCode",children:(0,y.jsx)("span",{children:D})}),(0,y.jsx)("div",{className:"copy-code",children:(0,y.jsx)(x.$,{onClick:()=>U(D,"code"),text:"Copy Code",icon:!0,iconname:v.jPR,className:"copycode",theme:n,disabled:d})})]}):""})]}),(0,y.jsxs)("div",{className:"ReferralCode-options",children:[(0,y.jsx)("label",{className:"labelhead",children:"Referral Url"}),(0,y.jsx)("div",{className:"ReferralCode-text",children:"M"===Y?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"ReferralCode",children:(0,y.jsx)("span",{children:"".concat(window.location.origin,"/joinmembership/").concat(D)})}),(0,y.jsx)("div",{className:"copy-code",children:(0,y.jsx)(x.$,{onClick:()=>U("".concat(window.location.origin,"/joinmembership/").concat(D),"url"),text:"Copy Code",icon:!0,className:"copycode",iconname:v.jPR,theme:c,disabled:h})})]}):""})]}),(0,y.jsx)("div",{className:"divider-green"}),(0,y.jsxs)("div",{className:"RedemptionRequirement d-flex align-items-center",children:["M"===Y?(0,y.jsx)("div",{className:"qrcode",children:(0,y.jsx)(de.h,{value:"".concat(window.location.origin,"/joinmembership/").concat(D)})}):"",(0,y.jsxs)("div",{className:"d-block qr-codetext",children:[(0,y.jsxs)("h2",{className:"customHeading d-block",children:["Refer friends & earn up to ",C,"%"]}),(0,y.jsxs)("p",{children:["Receive ",C,"% wish cash for each referral after their Joining"]})]})]})]})})}),f&&f.length>0?(0,y.jsx)("div",{className:"col-md-12 col-sm-12",children:(0,y.jsx)("div",{className:"referral-table",children:(0,y.jsx)("div",{className:"table-heading",children:(0,y.jsx)("div",{className:"Referral-table",children:(0,y.jsxs)(oe.Jl,{children:[(0,y.jsx)("h2",{className:"Referral",children:"Referral Status"}),(0,y.jsx)(oe.E9,{children:(0,y.jsx)(oe._3,{md:"12",className:"table-content",children:(0,y.jsx)(oe.EY,{children:(0,y.jsx)(oe.YE,{children:(0,y.jsx)(oe.Uz,{striped:!0,bordered:!0,hover:!0,entriesOptions:[5,20,25],entries:5,pagesAmount:4,data:{columns:[{label:"Date",field:"name",width:150,attributes:{"aria-controls":"DataTable","aria-label":"Name"}},{label:"Referral",field:"position",width:270},{label:"Status",field:"Status",sort:"asc",width:100}],rows:f.map((e=>({name:e.referred_at||"N/A",position:e.members_email||"N/A",Status:(0,y.jsxs)("span",{className:"P"===e.status?"status-pending":"status-completed",children:[F[e.currency],e.amount?parseFloat(e.amount).toFixed(2):"0.00",(0,y.jsx)("span",{children:"P"===e.status?"Pending":"Earned"})]})})))},materialSearch:!1,responsive:!0,searching:!1})})})})})]})})})})}):(0,y.jsx)("div",{style:{marginBottom:"20px"}})]})})})};a(31618);const he=e=>{let{referral_code:s,heading:a,membershipExpire:i,keyFeatures:l,membershipFee:n,yearlyFee:r,subscriptionPlan:c,memberType:o,discountAmount:d}=e;const m=(0,z.Zp)();let h=0;"Annual"===c?r&&(h=r):n&&(h=n);let u=String(h);d&&(u=d);const p={USD:"$",EUR:"\u20ac",GBP:"\xa3"},[b]=(0,g.XB)(),[f,v]=(0,t.useState)(!0),N=(0,j.gL)("userData");let _="GBP",w="";null!==N?(w=N.Token,_=N.currency?N.currency:"GBP"):console.error("User data not found in local storage"),(0,t.useEffect)((()=>{"I"===(null===N||void 0===N?void 0:N.subscription_status)&&v(!1)}),[N]);const{data:S,isSuccess:k,isLoading:A,refetch:D}=(0,$.kY)({});(0,t.useEffect)((()=>{D()}),[]);const[M,E]=(0,t.useState)("0");(0,t.useEffect)((()=>{k&&S&&E(S.last_4)}),[S,k]);const{hideModal:B,store:R}=(0,C.Vv)(),{showModal:F}=(0,C.Vv)();return(0,y.jsxs)("div",{className:"subsscription-tabcondition",children:[(0,y.jsx)("div",{className:"tabcondition",children:(0,y.jsx)("h2",{className:"customHeading",children:"Your current Plan"})}),"M"!==o?(0,y.jsxs)("div",{className:"Membership-cardtheme full-membershipcard",children:[(0,y.jsx)("div",{className:"card-themeheader"}),(0,y.jsxs)("div",{className:"card-content",children:[(0,y.jsx)("div",{className:"card-heading",children:(0,y.jsx)("h3",{className:"customHeading",children:a})}),(0,y.jsx)("div",{className:"card-body",children:(0,y.jsx)("div",{className:"btn-groups",children:(0,y.jsx)(x.$,{onClick:()=>{"M"!==o&&m("/member-signup",{state:{referral_code:s}})},text:"Upgrade Membership",icon:!0,theme:"light",className:"w-100"})})})]})]}):(0,y.jsx)("div",{className:"full-membership",children:(0,y.jsxs)("div",{className:"Membership-cardtheme free-membershipcard",children:[(0,y.jsx)("div",{className:"card-themeheader"}),(0,y.jsxs)("div",{className:"card-content",children:[(0,y.jsx)("div",{className:"card-heading",children:(0,y.jsx)("h3",{className:"customHeading",children:"full membership"})}),(0,y.jsxs)("div",{className:"card-body",children:[(0,y.jsxs)("div",{className:"content",children:[(0,y.jsx)("div",{className:"card-text",children:(0,y.jsx)("span",{children:"Current Status"})}),(0,y.jsx)("div",{className:"card-text",children:(0,y.jsx)("span",{className:"active",children:"Active"})})]}),(0,y.jsxs)("div",{className:"content",children:[(0,y.jsx)("div",{className:"card-text",children:(0,y.jsx)("span",{children:"Plan expires on"})}),(0,y.jsx)("div",{className:"card-text",children:(0,y.jsx)("span",{children:i?G()(i).format("DD MMM YYYY"):""})})]}),(0,y.jsxs)("div",{className:"amount-details",children:[(0,y.jsx)("div",{className:"fullmembership-content",children:String(h)!==String(u)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("h4",{className:"customHeading discountAmnt strike-through",children:[p[_],h]}),(0,y.jsxs)("h4",{className:"customHeading",children:[p[_],u]})]}):(0,y.jsxs)("h4",{className:"customHeading",children:[p[_],u]})}),(0,y.jsx)("div",{className:"cancel-time",children:(0,y.jsx)("span",{children:c||""})})]}),(0,y.jsxs)("div",{className:"card-text",children:[(0,y.jsxs)("div",{className:"content",children:[(0,y.jsx)("div",{className:"card-text",children:(0,y.jsx)("span",{children:"Saved Card"})}),(0,y.jsxs)("div",{className:"card-text",children:[(0,y.jsx)("span",{style:{float:"left",fontSize:"25px",marginTop:"6px"},children:"**** **** **** "}),"\xa0",(0,y.jsxs)("span",{children:[" ",M]})]})]}),(0,y.jsx)("p",{className:"row  ChangeCard justify-content-center active",style:{cursor:"pointer",color:"#64F259",textDecorationLine:"underline"},onClick:async()=>{F(C.ew.PAYMENT_MODAL,{currencySymbol:p[_],amount:0,onClose:()=>{D()}})},children:"Change Card"})]}),f&&(0,y.jsx)("div",{className:"amount-details",children:(0,y.jsx)(x.$,{onClick:async()=>{T().fire({title:"Are you sure?",text:"This action will cancel your subscription.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!",cancelButtonText:"Cancel",backdrop:"\n                rgba(255, 255, 255, 0.5)\n                left top\n                no-repeat\n                filter: blur(5px);\n            ",background:"#fff"}).then((async e=>{if(e.isConfirmed){const e=await b(w);"error"in e?console.error("Error logging in:",e.error):(T().fire({title:"Subscription Cancelled!",text:"You can have the privileges till the subscription end date",icon:"success",timer:3e3,showConfirmButton:!1,backdrop:"\n                            rgba(255, 255, 255, 0.5)\n                            left top\n                            no-repeat\n                            filter: blur(5px);\n                        ",background:"#fff"}),v(!1),null!=N&&(N.subscription_status="I",(0,j.sX)(N)))}}))},text:"Cancel Subscription",icon:!0,theme:"light",className:"w-100 book-call"})})]})]})]})})]})};var ue=a(40180),xe=a(86213);const pe=function(){var e;const[s]=(0,g.y2)(),[h,u]=(0,t.useState)(0),[p,b]=(0,t.useState)(0),f=(0,ue.Wm)({}),v=(0,z.zy)(),{mainTab:N="",tabActive:_=""}=v.state||{},w=(0,j.gL)("userData");(0,t.useEffect)((()=>{var e,s;if("USD"===(null===w||void 0===w?void 0:w.currency))u(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.data.monthly_membership_fee_dollar),b(null===f||void 0===f||null===(s=f.data)||void 0===s?void 0:s.data.full_membership_fee_dollar);else if("EUR"===(null===w||void 0===w?void 0:w.currency)){var a,t;u(null===f||void 0===f||null===(a=f.data)||void 0===a?void 0:a.data.monthly_membership_fee_euro),b(null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.data.full_membership_fee_euro)}else{var i,l;u(null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.data.monthly_membership_fee),b(null===f||void 0===f||null===(l=f.data)||void 0===l?void 0:l.data.full_membership_fee)}}),[null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.data]);const S=async e=>{const{name:a,checked:t}=e.target;let i="";i=t?"A":"I",H((e=>({...e,displayStatus:{...e.displayStatus,[a]:i}})));const l={field_name:a,field_status:i},n=await s(l);"error"in n?console.error("Error logging in:",n.error):L()},{showModal:k}=(0,C.Vv)(),[A,D]=(0,t.useState)("MyProfile"),T=e=>{D(e)};(0,t.useEffect)((()=>{v.state&&v.state.mainTab&&D(v.state.mainTab)}),[v.state]);const[B,R]=(0,t.useState)(!1),F=()=>{R(!B),L()},[P]=(0,g.S9)(),[Y,H]=(0,t.useState)(E.k);let U="",q="",O="";try{null!==w?(U=w.Token,q=w.is_specialist,O=w.Member_type):console.error("User data not found in local storage")}catch(ie){console.error("Error parsing user data:",ie)}(0,t.useEffect)((()=>{U&&L()}),[]),(0,t.useEffect)((()=>{N&&D(N)}),[N]);const L=async()=>{try{const e=await P(U);"error"in e?console.error("Error logging in:",e.error):(H(e.data.data),null!=w&&(w.members_profile_picture=e.data.data.members_profile_picture,(0,j.sX)(w)))}catch(ie){console.error("Error fetching user data:",ie)}};let I="0000-00-00";Y.members_dob&&(I=Y.members_dob);const[G,$,W]=I.split("-"),V=new Date("".concat(G,"-").concat($,"-").concat(W)),[J,X]=("".concat(V.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][V.getMonth()]," ").concat(V.getFullYear()),(0,t.useState)("light")),[K,Q]=(0,t.useState)("light"),[ee,se]=(0,t.useState)(!1),[ae,te]=(0,t.useState)(!1);return(0,y.jsx)("div",{className:"App",children:(0,y.jsxs)("div",{className:"profile-page-content",children:[(0,y.jsxs)(i.l,{source:a(21550),title:Y.members_fname+" "+Y.members_lname,children:[(0,y.jsx)("div",{className:"inner-child",style:{textAlign:"center"},children:(0,y.jsx)("div",{className:"row w-100"})}),(0,y.jsx)("div",{className:"tab-menu tabmenu-slider",children:(0,y.jsx)("ul",{className:"tab-menu-ul d-block",children:(0,y.jsxs)(ce.A,{dots:!1,infinite:!1,slidesToShow:6,slidesToScroll:1,centerPadding:"10px",variableWidth:!1,responsive:[{breakpoint:768,settings:{dots:!1,infinite:!1,slidesToShow:3,slidesToScroll:1,centerPadding:"10px",variableWidth:!1}},{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:1}}],children:[(0,y.jsx)("div",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"MyProfile"===A?"active":"",onClick:()=>T("MyProfile"),children:"My Profile"})}),(0,y.jsx)("div",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"MyBookings"===A?"active":"",onClick:()=>T("MyBookings"),children:"My Bookings"})}),"M"===O?(0,y.jsx)("div",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"MyRefferals"===A?"active":"",onClick:()=>T("MyRefferals"),children:"My Referral"})}):"",(0,y.jsx)("div",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"Settings"===A?"active":"",onClick:()=>T("Settings"),children:"Settings"})}),(0,y.jsx)("div",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"Subscription"===A?"active":"",onClick:()=>T("Subscription"),children:"Subscription"})}),(0,y.jsx)("div",{className:"tab-menu-item",children:(0,y.jsx)("a",{className:"Transaction"===A?"active":"",onClick:()=>T("Transaction"),children:"Payments"})})]})})})]}),"MyProfile"===A&&(0,y.jsxs)("div",{className:"container profile-div",id:"MyProfile",children:[(0,y.jsx)("div",{className:"profile-image-container",children:Y.members_profile_picture?(0,y.jsx)("img",{src:Y.members_profile_picture,alt:"Profile",className:"profile-image"}):(0,y.jsx)("img",{src:a(40518),alt:"Profile",className:"profile-image"})}),(0,y.jsx)("div",{className:"profile-text",children:(0,y.jsx)("p",{children:Y.members_biography})}),(0,y.jsxs)("div",{className:"row w-100 mx-0",children:[(0,y.jsxs)("div",{className:"col-md-12 col-12 py-2 profile-parent",style:{maxWidth:"700px",margin:"auto",display:"block"},children:[(0,y.jsxs)("div",{className:"profile-action",children:[(0,y.jsx)(l.D,{tag:"h3",className:"profile-heading",children:"Profile Information"}),(0,y.jsx)("a",{onClick:F,style:{color:"#FFF",cursor:"pointer",borderBottom:"1px solid"},children:"Edit Profile"})]}),(0,y.jsx)("div",{className:"display-text",children:(0,y.jsx)("p",{children:"Display on public profile?"})}),(0,y.jsx)("div",{className:"list-details",children:(0,y.jsx)("div",{className:"row w-100",children:(0,y.jsxs)("div",{className:"list",style:{paddingRight:"0px"},children:[(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Full Name"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{children:Y.members_fname+" "+Y.members_lname})})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Email Address"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{children:Y.members_email})}),(0,y.jsx)("div",{className:"swicthaction",children:(0,y.jsxs)(o.A,{switch:!0,children:[(0,y.jsx)(d.A,{type:"switch",checked:"A"===Y.displayStatus.members_email,name:"members_email",onChange:S,id:"switchEmail"}),(0,y.jsx)(m.A,{htmlFor:"switchEmail"})]})})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Phone"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{children:null!==Y.members_phone&&(0,y.jsx)("a",{href:"tel:".concat(Y.members_dial_code).concat(Y.members_phone),className:"tel-text",children:Y.members_dial_code+" - "+Y.members_phone})})}),(0,y.jsx)("div",{className:"swicthaction",children:(0,y.jsxs)(o.A,{switch:!0,children:[(0,y.jsx)(d.A,{type:"switch",checked:"A"===Y.displayStatus.members_phone,name:"members_phone",onChange:S,id:"switchPhone"}),(0,y.jsx)(m.A,{htmlFor:"switchPhone"})]})})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Address"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{className:"capitalize-first-letter",children:Y.members_address})}),(0,y.jsx)("div",{className:"swicthaction",children:(0,y.jsxs)(o.A,{switch:!0,children:[(0,y.jsx)(d.A,{type:"switch",checked:"A"===Y.displayStatus.members_address,name:"members_address",onChange:S,id:"switchAddress"}),(0,y.jsx)(m.A,{htmlFor:"switchAddress"})]})})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Town"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsxs)("span",{className:"capitalize-first-letter",children:[Y.members_town,"  "]})}),(0,y.jsx)("div",{className:"swicthaction"})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Region / County"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{className:"capitalize-first-letter",children:Y.members_region})})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Postcode"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{children:Y.members_postcode})}),(0,y.jsx)("div",{className:"swicthaction"})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Country"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{className:"capitalize-first-letter",children:Y.members_country})})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Current Employment"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{className:"capitalize-first-letter",children:Y.members_employment})}),(0,y.jsx)("div",{className:"swicthaction"})]}),(0,y.jsxs)("div",{className:"list-details-data EmploymentHistory",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Employment History"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{className:"capitalize-first-letter",children:Y.members_employment_history})}),(0,y.jsx)("div",{className:"swicthaction"})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"About Me"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{className:"capitalize-first-letter",children:Y.members_biography})})]}),(0,y.jsxs)("div",{className:"list-details-data",children:[(0,y.jsx)("div",{className:"headerName",children:(0,y.jsx)("span",{children:"Interests"})}),(0,y.jsx)("div",{className:"data-list",children:(0,y.jsx)("span",{className:"capitalize-first-letter",children:Y.members_interest})})]})]})})})]}),(0,y.jsx)("div",{className:"downloadpdf-section",children:(0,y.jsx)(x.$,{onClick:async()=>{try{xe.A.get("".concat("https://admin.reach.boats/api","/member/generatePdf"),{responseType:"blob",headers:{"X-API-KEY":"493d25ea-24d9-4662-ae7b-c96255ecbbe6",Authorization:"Bearer ".concat(U)}}).then((e=>{const s=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=s,a.setAttribute("download","membershipcard.pdf"),document.body.appendChild(a),a.click(),a.remove()})).catch((e=>{console.error("Error downloading file:",e)}))}catch(ie){console.error("Error downloading PDF:",ie)}},text:"DOWNLOAD MEMBERSHIP CARD",icon:!0,theme:"light"})})]})]}),(0,y.jsx)("div",{className:"profile-box",children:(0,y.jsx)("div",{className:"profile-box-inner",children:(0,y.jsx)(n.A,{isOpen:B,toggle:F,centered:!0,className:"Profilebox-modal",children:(0,y.jsxs)(r.A,{children:[(0,y.jsx)(c.A,{toggle:F,children:(0,y.jsx)(l.D,{tag:"h3",className:"text-center",children:"Edit Profile"})}),(0,y.jsx)(M,{profileData:Y,toggle:F})]})})})}),"MyBookings"===A&&(0,y.jsx)("div",{className:"mybooking-tabs",id:"mybooking",children:(0,y.jsx)(Z,{tabActive:_})}),"Settings"===A&&(0,y.jsx)("div",{className:"mybooking-tabs",id:"settings",children:(0,y.jsx)(le,{})}),"MyRefferals"===A&&(0,y.jsx)("div",{className:"MyRefferals px-2",id:"MyRefferals",children:(0,y.jsx)(me,{})}),"Subscription"===A&&(0,y.jsx)("div",{className:"Subscription px-2",id:"Subscription",children:(0,y.jsx)(he,{heading:"Free Membership",membershipExpire:Y.members_subscription_end_date,discountAmount:Y.discount_amount,keyFeatures:["Full access to the entire site and content","Discounts with Selected Partners","Book calls with boating experts","Browse and accept jobs on CRUZ"],membershipFee:h,yearlyFee:p,subscriptionPlan:Y.members_subscription_plan,memberType:O,referral_code:Y.referral_code})}),"Transaction"===A&&(0,y.jsx)("div",{className:"Transaction",children:(0,y.jsx)(re,{})})]})})}},35411:(e,s,a)=>{a.d(s,{k:()=>t});const t={members_name_title:"",members_fname:"",members_lname:"",members_email:"",members_status:"",members_payment_status:"",members_dob:"",members_dob_data:{dobDay:"",dobMonth:"",dobYear:""},members_phone_code:"",members_phone:"",members_address:"",members_country:"",members_region:"",members_employment:"",members_employment_history:"",members_biography:"",members_interest:"",members_about_me:"",members_type:"",dobYear:"",dobMonth:"",dobDay:"",members_profile_picture:"",phone_code:"",members_town:"",members_street:"",members_postcode:"",members_dial_code:"",displayStatus:{members_name:"",members_email:"",members_phone:"",members_dob:"",members_address:"",members_country:"",members_region:"",members_biography:"",members_about_me:"",members_interest:""}}},62522:()=>{},35572:()=>{},31618:()=>{},21550:(e,s,a)=>{e.exports=a.p+"static/media/banner-1.1cc6391b08d667e21131.jpeg"},90331:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAaCAYAAACkVDyJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADYSURBVHgB7dTNEYIwEAXgtxkKoARKsANDRx7wztEZPdiKFSAd2IEpgQ7W3Yn/42iSAS7mHUIC7HzsACHG+gygwjxxxRU7Atxj0tBSBlv4BfeEXYsJw2haQa3BzMngFCAPchxiiuRXWjBWFeIiBjmSwpKwDwYVk7GTYl3WhO0pvFatiDxhJe5PHYcGgw/MDLrymMJcxqBBH80rZmo55fy71zlpl52/ZwTwHSNs3O2an8ehJhVLRX90yPYb9hkli7EjXUgnTYeE5L00gxn8Q7BAUvggW1iFhFwAgAhZ+QNb4pYAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=4733.9081e01a.chunk.js.map