{"version":3,"file":"static/js/1527.79c00167.chunk.js","mappings":"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","sources":["features/MemberSignup/JoinMembership.tsx","features/MemberSignup/MemberShipCard.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Hero } from \"../../components/Hero/Hero\";\nimport { Heading } from \"../../components/Heading/Heading\";\nimport { Button } from \"../../components/Button/Button\";\nimport \"./MembershipSetup.scss\";\nimport { SignupInterface, initialSignupInterface } from \"../../types\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEye, faEyeSlash } from \"@fortawesome/free-regular-svg-icons\";\nimport { MemberShipCard } from \"./MemberShipCard\";\nimport { FeaturesCard } from \"../../components/FeaturesCard/FeaturesCard\";\nimport {\n    weather,\n    events,\n    clubs,\n    partners,\n    chandler,\n    clubHouse,\n    crewFinder,\n    noticeBoard,\n    insurance,\n} from \"../../components/FeaturesCard/FeatureOptions\";\nimport { useMembershipFeeQuery } from \"../Login/authApiSlice\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { CompareMembership } from \"./CompareMembership\";\nimport { CmsHeader } from \"../../components/CmsHeader/CmsHeader\";\nimport { getUserData } from \"../../utils/Utils\";\ninterface MembershipFees {\n    full_membership_fee: string;\n    monthly_membership_fee: string;\n    referal_percentage: string;\n}\ninterface paymentFee {\n    currency: string\n    fee: string;\n    yearly: string;\n}\nexport const JoinMembership = () => {\n    const navigate = useNavigate();\n    const { referral_code } = useParams<{ referral_code: string }>();\n    const [memberShipFee, setMemberShipFee] = useState(0);\n    const [yearlyFee, setYearlyFee] = useState(0);\n    const getMemberShipFee = useMembershipFeeQuery({});\n    const userData = getUserData('userData');\n\n    let memberType = \"\";\n    if (userData != null) {\n        memberType = userData.Member_type;\n    }\n\n    useEffect(() => {\n        if (memberType === \"M\") navigate(\"/\");\n\n    }, []);\n    useEffect(() => {\n        if (userData?.currency === 'USD') {\n            setMemberShipFee(getMemberShipFee?.data?.data.monthly_membership_fee_dollar);\n            setYearlyFee(getMemberShipFee?.data?.data.full_membership_fee_dollar);\n        } else if (userData?.currency === 'EUR') {\n            setMemberShipFee(getMemberShipFee?.data?.data.monthly_membership_fee_euro);\n            setYearlyFee(getMemberShipFee?.data?.data.full_membership_fee_euro);\n        } else {\n            setMemberShipFee(getMemberShipFee?.data?.data.monthly_membership_fee);\n            setYearlyFee(getMemberShipFee?.data?.data.full_membership_fee);\n        }\n    }, [getMemberShipFee?.data?.data])\n    // const freeFeatures = [\n    //     'Free for Life',\n    //     'Access to Weather Reporting',\n    //     'Access to Club House (Chat)',\n    //     'Monthly Email Newsletter',\n    //     'Access to selected online events',\n    //     'Post Job Opportunities within CRUZ',\n    // ];\n    // const fullFeatures = [\n    //     'Full access to the entire site and content',\n    //     'Discounts with Selected Partners',\n    //     'Book calls with boating experts',\n    //     'Browse and accept jobs on CRUZ',\n    // ];\n    const [paymentFee, setPaymentFee] = useState<paymentFee>();\n    const setFees = (code: paymentFee) => {\n        setPaymentFee(code);\n    }\n\n    return (\n        <div className=\"JoinMembership-parentpage\">\n            <CmsHeader links={[]}></CmsHeader>\n            <div className=\"innerContent\">\n                <div className=\"container\">\n                    <div className=\"main-cardsection\">\n                        <div className=\"row\">\n                            <div className=\"col-md-6 col-12\">\n                                <MemberShipCard referral_code={referral_code} heading={\"Free MemberShip\"} type={\"Free\"} showButton={true} />\n                            </div>\n                            <div className=\"col-md-6 col-12\">\n                                <MemberShipCard referral_code={referral_code} heading={\"Full Membership\"} plusNote={\"As free plus\"} membershipFee={memberShipFee} yearlyFee={yearlyFee} type={\"Full\"} showButton={true} setPaymentFee={setFees} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"compare-cards\">\n                    <CompareMembership paymentFee={paymentFee} referral_code={referral_code} />\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default JoinMembership;","import React, { useEffect, useState } from \"react\";\nimport { Button } from \"../../components/Button/Button\";\nimport \"./MembershipSetup.scss\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MemebershipProps } from \"../../types\";\nimport {\n  useReferralDiscountMutation,\n  useMembershipFeeQuery,\n  useJoinReachQuery,\n} from \"../Login/authApiSlice\";\n\ntype Currency = \"USD\" | \"GBP\" | \"EUR\";\ninterface MembershipFees {\n  full_membership_fee: string;\n  monthly_membership_fee: string;\n  referal_percentage: string;\n}\nexport const MemberShipCard: React.FC<MemebershipProps> = ({\n  referral_code,\n  heading,\n  plusNote,\n  membershipFee,\n  yearlyFee,\n  type,\n  showButton,\n  offerPrice,\n  currency,\n  setPaymentFee,\n  setCardCurrency,\n}) => {\n  const navigate = useNavigate();\n  const [referralDiscount] = useReferralDiscountMutation();\n  const { data, error, isLoading, isSuccess } = useMembershipFeeQuery({});\n  const [currencySelected, setCurrency] = useState<Currency>(currency || \"GBP\");\n  const [fees, setFees] = useState({\n    fee: membershipFee,\n    yearly: yearlyFee,\n  });\n  const currencySymbols: { [key: string]: string } = {\n    USD: \"$\",\n    EUR: \"€\",\n    GBP: \"£\",\n  };\n  const [updatedOfferPrice, setUpdatedOfferPrice] = useState<\n    MembershipFees | null | undefined\n  >(null);\n\n  useEffect(() => {\n    setUpdatedOfferPrice(offerPrice);\n  }, [offerPrice]);\n  useEffect(() => {\n    if (isSuccess && data) {\n      const feeArr: Record<Currency, { fee: any; monthly: any }> = {\n        USD: {\n          fee: data.data.full_membership_fee_dollar,\n          monthly: data.data.monthly_membership_fee_dollar,\n        },\n        GBP: {\n          fee: data.data.full_membership_fee,\n          monthly: data.data.monthly_membership_fee,\n        },\n        EUR: {\n          fee: data.data.full_membership_fee_euro,\n          monthly: data.data.monthly_membership_fee_euro,\n        },\n      };\n\n      const defaultFees = {\n        fee: feeArr[currencySelected].monthly,\n        yearly: feeArr[currencySelected].fee,\n      };\n\n      setFees(defaultFees);\n\n      // Ensure setPaymentFee is called with default values\n      if (setPaymentFee) {\n        setPaymentFee({\n          currency: currencySelected,\n          fee: defaultFees.fee,\n          yearly: defaultFees.yearly,\n        });\n      }\n    }\n  }, [isSuccess, data, currencySelected]);\n\n\n  useEffect(() => {\n    const fetchReferralDiscount = async () => {\n      if (referral_code) {\n        try {\n          const formData = {\n            referral_code: referral_code,\n            currency: currencySelected,\n          };\n          const responseOther = await referralDiscount(formData).unwrap();\n          if (responseOther.success) {\n            setUpdatedOfferPrice(responseOther.data);\n\n            if (setPaymentFee) {\n              setPaymentFee({\n                currency: currencySelected,\n                fee: responseOther.data.monthly_membership_fee,\n                yearly: responseOther.data.full_membership_fee,\n              });\n            }\n\n          }\n        } catch (error) {\n          //console.log(error, \"ERROR RESPONSE\");\n        }\n      }\n    };\n\n    // Call the async function\n    fetchReferralDiscount();\n  }, [referral_code, currencySelected]);\n\n  const handleCurrencyChange = async (\n    e: React.ChangeEvent<HTMLSelectElement>\n  ) => {\n    const selectedCurrency = e.target.value as Currency; // Cast to Currency type\n    setCurrency(selectedCurrency);\n    if (setCardCurrency) {\n      setCardCurrency(selectedCurrency);\n    }\n    if (data) {\n      const feeArr: Record<Currency, { fee: any; monthly: any }> = {\n        USD: {\n          fee: data.data.full_membership_fee_dollar,\n          monthly: data.data.monthly_membership_fee_dollar,\n        },\n        GBP: {\n          fee: data.data.full_membership_fee,\n          monthly: data.data.monthly_membership_fee,\n        },\n        EUR: {\n          fee: data.data.full_membership_fee_euro,\n          monthly: data.data.monthly_membership_fee_euro,\n        },\n      };\n\n      setFees({\n        fee: feeArr[selectedCurrency].monthly,\n        yearly: feeArr[selectedCurrency].fee,\n      });\n      if (setPaymentFee) {\n        setPaymentFee({\n          currency: selectedCurrency,\n          fee: feeArr[selectedCurrency].monthly,\n          yearly: feeArr[selectedCurrency].fee,\n        });\n      }\n      if (referral_code) {\n        try {\n          const formData = {\n            referral_code: referral_code,\n            currency: selectedCurrency,\n          };\n          const responseOther = await referralDiscount(formData).unwrap();\n          if (responseOther.success) {\n            setUpdatedOfferPrice(responseOther.data);\n          }\n        } catch (error) {\n          //console.log(error, \"ERROR RESPONSE\");\n        }\n      }\n    }\n  };\n\n  const [freeFeatures, setFreeFeatures] = useState(\"\");\n  const [fullFeatures, setFullFeatures] = useState(\"\");\n  const [freeheading, setFreeHeading] = useState(\"\");\n  const [fullheading, setFullHeading] = useState(\"\");\n  const {\n    data: joinReachDetails,\n    isLoading: joinReachLoading,\n    isSuccess: joinReachSuccess,\n  } = useJoinReachQuery({});\n  useEffect(() => {\n    if (joinReachSuccess && joinReachDetails?.data) {\n      const featureData = joinReachDetails.data;\n      setFreeFeatures(featureData[0]?.membership_description || \"\");\n      setFreeHeading(featureData[0]?.membership_title || \"\");\n      setFullFeatures(featureData[1]?.membership_description || \"\");\n      setFullHeading(featureData[1]?.membership_title || \"\");\n    } else {\n      console.warn(\"joinReachDetails or data is missing\");\n    }\n  }, [joinReachDetails, joinReachSuccess]);\n\n  const getCookie = (name: string) => {\n    const cookies = document.cookie.split(\"; \");\n    const cookie = cookies.find((row) => row.startsWith(`${name}=`));\n    return cookie ? cookie.split(\"=\")[1] : null;\n  };\n  const [hasCookies, setHasCookies] = useState(false);\n  useEffect(() => {\n    const cookieValue = getCookie(\"CookieConsent\");\n    setHasCookies(!!cookieValue); // Convert to boolean\n  }, [document.cookie]);\n\n  const handleClick = () => {\n    //if (hasCookies) {\n    if (type === \"Free\") {\n      navigate(`/freemembership`, {\n        state: { referral_code },\n      });\n    }\n    if (type === \"Full\") {\n      navigate(`/member-signup`, {\n        state: {\n          referral_code: referral_code,\n          selectedCurrency: currencySelected,\n        },\n      });\n    }\n    // }\n  };\n  return (\n    <div\n      className={`Membership-cardtheme ${type === \"Free\" ? \"full-membershipcard\" : \"free-membershipcard\"\n        }`}\n    >\n      <div className=\"card-themeheader\"></div>\n      <div className=\"card-content\">\n        <div className=\"card-heading\">\n          {type === \"Free\" ? (\n            <h3 className=\"customHeading\">{freeheading}</h3>\n          ) : (\n            <h3 className=\"customHeading\">{fullheading}</h3>\n          )}\n        </div>\n        <div className=\"card-body\">\n          {type === \"Free\" ? (\n            <div\n              className=\"text-white text-custom\"\n              dangerouslySetInnerHTML={{ __html: freeFeatures }}\n            />\n          ) : (\n            <div\n              className=\"text-white text-custom\"\n              dangerouslySetInnerHTML={{ __html: fullFeatures }}\n            />\n          )}\n\n          <div className=\"amount-details\">\n            {type === \"Free\" ? (\n              <div className=\"free-membership\">\n                <h4 className=\"customHeading\">FREE</h4>\n              </div>\n            ) : (\n              <>\n                <div className=\"fullmembership-content\">\n                  {updatedOfferPrice?.full_membership_fee ? (\n                    <>\n                      <h4 className=\"customHeading discountAmnt strike-through\">\n                        <select\n                          className=\"form-select\"\n                          value={currencySelected}\n                          onChange={handleCurrencyChange}\n                        >\n                          <option value=\"GBP\">£</option>\n                          <option value=\"EUR\">€</option>\n                          <option value=\"USD\">$</option>\n                        </select>\n                        {fees.yearly} pa{\" \"}\n                        <span>\n                          ({currencySymbols[currencySelected]}\n                          {fees.fee} pcm)\n                        </span>\n                      </h4>\n                      <h4 className=\"customHeading\">\n                        {currencySymbols[currencySelected]}\n                        {updatedOfferPrice?.full_membership_fee} pa{\" \"}\n                        <span>\n                          ({currencySymbols[currencySelected]}\n                          {updatedOfferPrice?.monthly_membership_fee} pcm)\n                        </span>\n                      </h4>\n                    </>\n                  ) : (\n                    <h4 className=\"customHeading discountAmnt\">\n                      <select\n                        className=\"form-select\"\n                        value={currencySelected}\n                        onChange={handleCurrencyChange}\n                      >\n                        <option value=\"GBP\">£</option>\n                        <option value=\"EUR\">€</option>\n                        <option value=\"USD\">$</option>\n                      </select>\n                      {fees.yearly} pa{\" \"}\n                      <span>\n                        ({currencySymbols[currencySelected]}\n                        {fees.fee} pcm)\n                      </span>\n                    </h4>\n                  )}\n                </div>\n                <div className=\"cancel-time\">\n                  <span>Cancel any time</span>\n                </div>\n              </>\n            )}\n          </div>\n\n          {showButton && (\n            <div className=\"btn-groups\">\n              <Button\n                onClick={handleClick}\n                text=\"Join Now\"\n                icon={true}\n                theme=\"light\"\n                className=\"w-100\"\n              />\n            </div>\n          )}\n          {type === \"Full\" && !showButton && (\n            <div className=\"payment-details\">\n              <p>Secure Payments powered by Stripe</p>\n              <div className=\"payment-card\">\n                <img\n                  src={require(\"../../assets/images/membersignup/payments.png\")}\n                  alt=\"Payment methods\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MemberShipCard;\n"],"names":["JoinMembership","_getMemberShipFee$dat7","navigate","useNavigate","referral_code","useParams","memberShipFee","setMemberShipFee","useState","yearlyFee","setYearlyFee","getMemberShipFee","useMembershipFeeQuery","userData","getUserData","memberType","Member_type","useEffect","_getMemberShipFee$dat","_getMemberShipFee$dat2","currency","data","monthly_membership_fee_dollar","full_membership_fee_dollar","_getMemberShipFee$dat3","_getMemberShipFee$dat4","monthly_membership_fee_euro","full_membership_fee_euro","_getMemberShipFee$dat5","_getMemberShipFee$dat6","monthly_membership_fee","full_membership_fee","paymentFee","setPaymentFee","_jsxs","className","children","_jsx","CmsHeader","links","MemberShipCard","heading","type","showButton","plusNote","membershipFee","code","CompareMembership","_ref","offerPrice","setCardCurrency","referralDiscount","useReferralDiscountMutation","error","isLoading","isSuccess","currencySelected","setCurrency","fees","setFees","fee","yearly","currencySymbols","USD","EUR","GBP","updatedOfferPrice","setUpdatedOfferPrice","feeArr","monthly","defaultFees","async","formData","responseOther","unwrap","success","fetchReferralDiscount","handleCurrencyChange","selectedCurrency","e","target","value","freeFeatures","setFreeFeatures","fullFeatures","setFullFeatures","freeheading","setFreeHeading","fullheading","setFullHeading","joinReachDetails","joinReachLoading","joinReachSuccess","useJoinReachQuery","_featureData$","_featureData$2","_featureData$3","_featureData$4","featureData","membership_description","membership_title","console","warn","hasCookies","setHasCookies","cookieValue","name","cookie","document","split","find","row","startsWith","concat","getCookie","dangerouslySetInnerHTML","__html","_Fragment","onChange","Button","onClick","handleClick","state","text","icon","theme","src","require","alt"],"sourceRoot":""}