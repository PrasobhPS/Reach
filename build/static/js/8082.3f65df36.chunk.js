"use strict";(self.webpackChunkreach=self.webpackChunkreach||[]).push([[8082],{48082:(e,o,r)=>{r.r(o),r.d(o,{default:()=>f});var n=r(65043),s=r(70579);const a=e=>{const{source:o,children:r,swapColumn:n,isBackground:a,logo:c}=e,t=a?{backgroundImage:"url(".concat(o,")")}:{};return(0,s.jsxs)("div",{className:"container-fluid two-col-box g-0 ".concat(a?"background-image":""),style:t,children:[(0,s.jsx)("div",{className:"logo-container",children:c&&(0,s.jsx)("img",{src:c,alt:"Image",className:"img-fluid"})}),(0,s.jsxs)("div",{className:"row g-0 align-items-center Twocolumnimagebox",children:[(0,s.jsx)("div",{className:"col-md-6 col-12 ".concat(n?"order-md-last":""),children:(0,s.jsx)("div",{className:"image-box",children:!a&&(0,s.jsx)("img",{src:o,alt:"Image",className:"img-fluid"})})}),(0,s.jsx)("div",{className:"col-md-6 col-12",children:(0,s.jsx)("div",{className:"content-box",children:r})})]})]})};var c=r(79061),t=r(39374),l=r(83910),i=r(97929),d=r(57167),u=r(48075),m=r(356);const h=r(15526).l.injectEndpoints({endpoints:e=>({Chandlery:e.query({query:()=>({url:"/chandlery",method:"GET"})}),getCouponCode:e.mutation({query:e=>({url:"/getCouponCode",method:"POST",body:e})})}),overrideExisting:!0}),{useChandleryQuery:p,useGetCouponCodeMutation:x}=h;var g=r(73216),b=r(30064),v=r.n(b);const f=()=>{var e;const o=(0,d.gL)("userData");let r="",h="",b="";try{null!==o&&(r=o.Member_type,h=o.Token,b=o.Member_id)}catch(U){console.error("Error parsing user data:",U)}const{showModal:f}=(0,u.Vv)(),w=(0,g.zy)(),[y,j]=(0,n.useState)([]),[C,k]=(0,n.useState)(!1),{data:N={},isLoading:_,isSuccess:E,refetch:L}=p({},{skip:!h}),[I]=x();(0,n.useEffect)((()=>{if(E&&N.data){const e=N.data.map((e=>({id:e.id,logo:e.chandlery_logo?"".concat(N.filePath,"/").concat(e.chandlery_logo):null,image:"".concat(N.filePath,"/").concat(e.chandlery_image),name:e.chandlery_name,discription:e.chandlery_description,discount:e.chandlery_discount,coupon:e.chandlery_coupon_code,website:e.chandlery_website,show_coupon_code:e.show_coupon_code})));j(e)}}),[N,E]),(0,n.useEffect)((()=>{"M"!==r&&f(u.ew.MEMBERSHIP_MODAL)}),[]);const R=(0,n.useRef)({}),S=(null===(e=w.state)||void 0===e?void 0:e.chandlery_id)||null;(0,n.useEffect)((()=>{var e;S&&R.current[S]&&(null===(e=R.current[S])||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}))}),[S,y]);const B=(e,o)=>{e?navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((()=>{O(o)})).catch((e=>{console.error("Failed to copy text to clipboard:",e)})):(console.error("Clipboard API not available"),M(e,o)):console.error("Coupon code is empty")},M=(e,o)=>{const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.top="0",r.style.left="0",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),O(o)}catch(n){console.error("Fallback: Oops, unable to copy",n)}document.body.removeChild(r)},[F,O]=(0,n.useState)(0),[P,T]=(0,n.useState)(0),A=async e=>{try{var o;const n={id:e},s=await I(n);if("data"in s&&null!==(o=s.data)&&void 0!==o&&o.success)L();else if("error"in s){var r;console.error("Error:",(null===(r=s.error)||void 0===r?void 0:r.message)||"Something went wrong")}else console.error("Unexpected response:",s),v().fire({title:"No Code!",text:s.data.message,icon:"error",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"OK",backdrop:"\n                                                      rgba(255, 255, 255, 0.5)\n                                                      left top\n                                                      no-repeat\n                                                      filter: blur(5px);\n                                                    ",background:"#fff"}).then((async e=>{}))}catch(U){console.error("API call failed:",U),alert("Failed to fetch coupon code. Please try again later.")}},V=y[0],D=y.slice(1),G=(e,o)=>{o.preventDefault(),b&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"links_click",userId:b,altsLink:"".concat(e)})),window.open(e,"_blank")};return(0,s.jsx)("div",{className:"App",children:(0,s.jsxs)("div",{className:"Chandlery-page",children:[(0,s.jsx)(m.j,{links:[{url:"#1",text:"All"},{url:"#2",text:"Gear"},{url:"#3",text:"Clothing"},{url:"#4",text:"Sailing"},{url:"#5",text:"Yachts"},{url:"#6",text:"Accessories"},{url:"#7",text:"Restorents"},{url:"#8",text:"Others"}]}),(0,s.jsxs)("div",{className:"container-fluid Chandlery-pagecontainer",children:[(0,s.jsx)("div",{className:"row",children:V&&(0,s.jsx)("div",{className:"col-12 header-parentbox",ref:e=>R.current[V.id]=e,tabIndex:-1,children:(0,s.jsx)(a,{source:V.image,swapColumn:!1,isBackground:!0,logo:V.logo,children:(0,s.jsxs)("div",{className:"coupon-container",children:[(0,s.jsxs)("div",{className:"offer-label",children:[V.discount,"% OFF"]}),(0,s.jsx)(t.D,{children:V.name}),(0,s.jsx)("p",{children:V.discription}),1===V.show_coupon_code&&(0,s.jsxs)("div",{className:"coupon-code",children:[(0,s.jsx)("input",{type:"text",className:"form-control",value:V.coupon||""}),(0,s.jsx)(c.$,{onClick:V.coupon?()=>B(V.coupon,V.id):()=>A(V.id),text:V.coupon?"Copy Code":"Get Code",icon:!1,theme:"dark"})]}),V.website&&(()=>{try{const e=new URL(V.website).hostname;return(0,s.jsxs)("a",{className:"visiturl alts_link",onClick:e=>{G(V.website,e)},target:"_blank",rel:"noopener noreferrer",children:["Visit ",e,(0,s.jsx)("span",{className:"btn-icon",children:(0,s.jsx)(l.g,{icon:i.vmR})})]})}catch(U){return console.error("Error parsing website URL:",U),(0,s.jsxs)("a",{className:"visiturl",href:V.website,target:"_blank",rel:"noopener noreferrer",children:["Visit ",V.website,(0,s.jsx)("span",{className:"btn-icon",children:(0,s.jsx)(l.g,{icon:i.vmR})})]})}})()]})})},V.id)}),(0,s.jsx)("div",{className:"row",children:D.map((e=>(0,s.jsx)("div",{className:"col-md-6 more-card-field",ref:o=>R.current[e.id]=o,tabIndex:-1,children:(0,s.jsx)(a,{source:e.image,swapColumn:!1,isBackground:!0,logo:e.logo,children:(0,s.jsxs)("div",{className:"coupon-container",children:[(0,s.jsxs)("div",{className:"offer-label",children:[e.discount,"% OFF"]}),(0,s.jsx)(t.D,{children:e.name}),(0,s.jsx)("p",{children:e.discription}),1===e.show_coupon_code&&(0,s.jsxs)("div",{className:"coupon-code",children:[(0,s.jsx)("input",{type:"text",className:"form-control",value:e.coupon||""}),(0,s.jsx)(c.$,{onClick:e.coupon?()=>B(e.coupon,e.id):()=>A(e.id),text:e.coupon?"Copy Code":"Get Code",icon:!1,theme:"dark"})]}),e.website&&(()=>{try{const o=new URL(e.website).hostname;return(0,s.jsxs)("a",{className:"visiturl alts_link",onClick:o=>{G(e.website,o)},target:"_blank",rel:"noopener noreferrer",children:["Visit ",o]})}catch(U){return console.error("Error parsing website URL:",U),(0,s.jsxs)("a",{className:"visiturl alts_link",onClick:o=>{G(e.website,o)},target:"_blank",rel:"noopener noreferrer",children:["Visit ",e.website]})}})()]})})},e.id)))})]})]})})}}}]);
//# sourceMappingURL=8082.3f65df36.chunk.js.map